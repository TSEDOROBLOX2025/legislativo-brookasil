<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poder Legislativo de Brookasil - Sistema Oficial 2026</title>
    
    <!-- CDNs para bibliotecas externas -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* ===== RESET E VARIÁVEIS ===== */
        :root {
            /* Cores institucionais - Verde, Amarelo, Azul (Gabão) */
            --verde-gabao: #009E60;
            --amarelo-gabao: #FCD116;
            --azul-gabao: #3A75C4;
            --verde-escuro: #007A4D;
            --azul-escuro: #2A5A9C;
            --branco: #FFFFFF;
            --cinza-claro: #F8F9FA;
            --cinza-medio: #E9ECEF;
            --cinza-escuro: #6C757D;
            --preto: #212529;
            
            /* Tipografia */
            --fonte-primaria: 'Inter', sans-serif;
            --fonte-secundaria: 'Poppins', sans-serif;
            --fonte-titulos: 'Montserrat', sans-serif;
            
            /* Transições */
            --transicao-rapida: 0.2s ease;
            --transicao-media: 0.3s ease;
            --transicao-lenta: 0.5s ease;
            
            /* Sombras */
            --sombra-suave: 0 4px 6px rgba(0, 0, 0, 0.07);
            --sombra-media: 0 6px 12px rgba(0, 0, 0, 0.1);
            --sombra-forte: 0 10px 20px rgba(0, 0, 0, 0.15);
            
            /* Tema claro (padrão) */
            --cor-fundo: var(--cinza-claro);
            --cor-fundo-card: var(--branco);
            --cor-texto: var(--preto);
            --cor-borda: var(--cinza-medio);
        }
        
        .tema-escuro {
            --cor-fundo: #121212;
            --cor-fundo-card: #1E1E1E;
            --cor-texto: #E0E0E0;
            --cor-borda: #333333;
        }
        
        /* Estilos de alto contraste */
        .alto-contraste {
            --cor-fundo: #000000;
            --cor-fundo-card: #000000;
            --cor-texto: #FFFFFF;
            --cor-borda: #FFFFFF;
            --verde-gabao: #00FF00;
            --amarelo-gabao: #FFFF00;
            --azul-gabao: #00BFFF;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--fonte-primaria);
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            line-height: 1.6;
            transition: background-color var(--transicao-media), color var(--transicao-media);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* ===== TELA DE ACESSIBILIDADE INICIAL ===== */
        #tela-acessibilidade {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 2rem;
        }
        
        .acessibilidade-titulo {
            font-family: var(--fonte-titulos);
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: white;
        }
        
        .acessibilidade-subtitulo {
            font-size: 1.2rem;
            margin-bottom: 3rem;
            max-width: 600px;
        }
        
        .opcoes-dispositivo {
            display: flex;
            gap: 2rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .opcao-dispositivo {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 2rem;
            width: 200px;
            cursor: pointer;
            transition: all var(--transicao-media);
        }
        
        .opcao-dispositivo:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-5px);
            border-color: white;
        }
        
        .opcao-dispositivo i {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .opcao-dispositivo h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .recursos-acessibilidade {
            margin-top: 2rem;
            max-width: 800px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
        }
        
        .recursos-acessibilidade h3 {
            margin-bottom: 1rem;
            color: var(--amarelo-gabao);
        }
        
        .recursos-lista {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            text-align: left;
        }
        
        .recurso-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* ===== INTRODUÇÃO CINEMATOGRÁFICA ===== */
        #introducao-cinematografica {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 9999;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .cena {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity var(--transicao-lenta);
        }
        
        .cena.ativa {
            opacity: 1;
        }
        
        .bandeiras-container {
            display: flex;
            gap: 3rem;
            align-items: center;
        }
        
        .bandeira {
            width: 300px;
            height: 200px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .bandeira-brookasil {
            background-image: linear-gradient(to bottom, var(--verde-gabao) 33%, var(--amarelo-gabao) 33%, var(--amarelo-gabao) 66%, var(--azul-gabao) 66%);
        }
        
        .bandeira-gabao {
            background-image: linear-gradient(to bottom, var(--verde-gabao) 33%, var(--amarelo-gabao) 33%, var(--amarelo-gabao) 66%, var(--azul-gabao) 66%);
        }
        
        .texto-dourado {
            font-family: var(--fonte-titulos);
            font-size: 3.5rem;
            color: var(--amarelo-gabao);
            text-align: center;
            text-shadow: 0 0 20px rgba(252, 209, 22, 0.7);
            opacity: 0;
            transform: translateY(30px);
        }
        
        .subtitulo-intro {
            font-size: 1.8rem;
            color: white;
            margin-top: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .destaque-estrutura {
            display: flex;
            gap: 4rem;
            margin-top: 3rem;
            opacity: 0;
        }
        
        .estrutura-item {
            text-align: center;
            color: white;
        }
        
        .estrutura-item h3 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--amarelo-gabao);
        }
        
        #botao-pular-intro {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            transition: all var(--transicao-media);
            z-index: 10;
        }
        
        #botao-pular-intro:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* ===== HEADER E NAVEGAÇÃO ===== */
        header {
            background-color: var(--cor-fundo-card);
            box-shadow: var(--sombra-suave);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--verde-gabao);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--verde-gabao), var(--azul-gabao));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .logo-texto h1 {
            font-family: var(--fonte-titulos);
            font-size: 1.5rem;
            color: var(--verde-gabao);
        }
        
        .logo-texto p {
            font-size: 0.9rem;
            color: var(--cinza-escuro);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        nav a {
            text-decoration: none;
            color: var(--cor-texto);
            font-weight: 500;
            font-family: var(--fonte-secundaria);
            padding: 0.5rem 0;
            position: relative;
            transition: color var(--transicao-rapida);
        }
        
        nav a:hover {
            color: var(--verde-gabao);
        }
        
        nav a.active {
            color: var(--verde-gabao);
        }
        
        nav a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--verde-gabao);
        }
        
        .header-controles {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .controle-acessibilidade {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn-controle {
            background: var(--cor-fundo);
            border: 1px solid var(--cor-borda);
            color: var(--cor-texto);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transicao-rapida);
        }
        
        .btn-controle:hover {
            background-color: var(--cinza-medio);
        }
        
        .btn-tema {
            background: var(--cor-fundo);
            border: 1px solid var(--cor-borda);
            color: var(--cor-texto);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--fonte-secundaria);
        }
        
        .btn-login {
            background: var(--verde-gabao);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 600;
            transition: background-color var(--transicao-rapida);
        }
        
        .btn-login:hover {
            background-color: var(--verde-escuro);
        }
        
        .menu-mobile-btn {
            display: none;
            background: none;
            border: none;
            color: var(--cor-texto);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* ===== CONTEÚDO PRINCIPAL ===== */
        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            min-height: calc(100vh - 200px);
        }
        
        .secao {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .secao.ativa {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .titulo-secao {
            font-family: var(--fonte-titulos);
            font-size: 2.2rem;
            margin-bottom: 2rem;
            color: var(--verde-gabao);
            border-left: 5px solid var(--amarelo-gabao);
            padding-left: 1rem;
        }
        
        .subtitulo-secao {
            font-family: var(--fonte-secundaria);
            font-size: 1.2rem;
            color: var(--cinza-escuro);
            margin-bottom: 2rem;
            max-width: 800px;
        }
        
        /* ===== PÁGINA INICIAL ===== */
        .hero {
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            color: white;
            padding: 4rem 2rem;
            border-radius: 16px;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: cover;
        }
        
        .hero h2 {
            font-family: var(--fonte-titulos);
            font-size: 3rem;
            margin-bottom: 1rem;
            position: relative;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            position: relative;
        }
        
        .hero-info {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
            margin-top: 2rem;
            position: relative;
        }
        
        .info-item {
            text-align: center;
        }
        
        .info-item i {
            font-size: 2.5rem;
            color: var(--amarelo-gabao);
            margin-bottom: 0.5rem;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .card {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
            transition: transform var(--transicao-media), box-shadow var(--transicao-media);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-media);
        }
        
        .card-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--verde-gabao), var(--azul-gabao));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            color: white;
            font-size: 1.8rem;
        }
        
        .card h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--verde-gabao);
        }
        
        .card p {
            color: var(--cinza-escuro);
            margin-bottom: 1.5rem;
        }
        
        .card-btn {
            background-color: var(--verde-gabao);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color var(--transicao-rapida);
        }
        
        .card-btn:hover {
            background-color: var(--verde-escuro);
        }
        
        .noticias-container {
            margin-top: 4rem;
        }
        
        .noticia {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--azul-gabao);
            box-shadow: var(--sombra-suave);
        }
        
        .noticia h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--cor-texto);
        }
        
        .noticia-data {
            font-size: 0.9rem;
            color: var(--cinza-escuro);
            margin-bottom: 0.5rem;
        }
        
        /* ===== PÁGINA PARLAMENTARES ===== */
        .filtros-container {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--sombra-suave);
        }
        
        .filtros-row {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .filtro-grupo {
            flex: 1;
            min-width: 200px;
        }
        
        .filtro-grupo label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-family: var(--fonte-secundaria);
        }
        
        select, input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            font-family: var(--fonte-primaria);
        }
        
        .btn-filtrar {
            background-color: var(--verde-gabao);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 600;
            transition: background-color var(--transicao-rapida);
        }
        
        .btn-filtrar:hover {
            background-color: var(--verde-escuro);
        }
        
        .parlamentares-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .parlamentar-card {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--sombra-media);
            border: 1px solid var(--cor-borda);
            transition: transform var(--transicao-media);
        }
        
        .parlamentar-card:hover {
            transform: translateY(-5px);
        }
        
        .parlamentar-header {
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            padding: 1.5rem;
            color: white;
            position: relative;
        }
        
        .parlamentar-foto {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid white;
            margin-bottom: 1rem;
            background-color: var(--cinza-medio);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: var(--cinza-escuro);
            overflow: hidden;
        }
        
        .parlamentar-foto img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .parlamentar-nome {
            font-family: var(--fonte-titulos);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .parlamentar-cargo {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .parlamentar-partido {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .parlamentar-body {
            padding: 1.5rem;
        }
        
        .parlamentar-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .info-item-parlamentar label {
            font-weight: 500;
            color: var(--cinza-escuro);
            display: block;
            margin-bottom: 0.3rem;
            font-size: 0.9rem;
        }
        
        .info-item-parlamentar span {
            font-weight: 600;
            color: var(--cor-texto);
        }
        
        .status-ativo {
            color: var(--verde-gabao);
            font-weight: 600;
        }
        
        .status-inativo {
            color: var(--cinza-escuro);
            font-weight: 600;
        }
        
        .parlamentar-acoes {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }
        
        .btn-acao {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            border: none;
            font-family: var(--fonte-secundaria);
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transicao-rapida);
        }
        
        .btn-ver {
            background-color: var(--azul-gabao);
            color: white;
        }
        
        .btn-editar {
            background-color: var(--amarelo-gabao);
            color: var(--preto);
        }
        
        .btn-excluir {
            background-color: #dc3545;
            color: white;
        }
        
        /* ===== PÁGINA PROJETOS DE LEI ===== */
        .projetos-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .btn-novo-projeto {
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            color: white;
            border: none;
            padding: 0.9rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform var(--transicao-media);
        }
        
        .btn-novo-projeto:hover {
            transform: translateY(-3px);
        }
        
        .projetos-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 2rem;
        }
        
        .projeto-card {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
            border-top: 5px solid var(--verde-gabao);
        }
        
        .projeto-numero {
            font-family: var(--fonte-titulos);
            font-size: 1.3rem;
            color: var(--verde-gabao);
            margin-bottom: 0.5rem;
        }
        
        .projeto-titulo {
            font-family: var(--fonte-secundaria);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--cor-texto);
        }
        
        .projeto-descricao {
            color: var(--cinza-escuro);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        
        .projeto-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .projeto-status {
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            text-align: center;
        }
        
        .status-tramitacao {
            background-color: rgba(58, 117, 196, 0.1);
            color: var(--azul-gabao);
        }
        
        .status-aprovado {
            background-color: rgba(0, 158, 96, 0.1);
            color: var(--verde-gabao);
        }
        
        .status-derrubado {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .status-arquivado {
            background-color: rgba(108, 117, 125, 0.1);
            color: var(--cinza-escuro);
        }
        
        .projeto-acoes {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }
        
        /* ===== PÁGINA BANCADAS ===== */
        .bancadas-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .partido-card {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
            position: relative;
            overflow: hidden;
        }
        
        .partido-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
        }
        
        .partido-direita::before {
            background-color: #dc3545;
        }
        
        .partido-centro::before {
            background-color: #ffc107;
        }
        
        .partido-esquerda::before {
            background-color: #0d6efd;
        }
        
        .partido-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .partido-sigla {
            font-family: var(--fonte-titulos);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--cor-texto);
        }
        
        .partido-numero {
            background-color: var(--cinza-medio);
            color: var(--cinza-escuro);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .partido-nome {
            font-family: var(--fonte-secundaria);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--cor-texto);
        }
        
        .partido-ideologia {
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .ideologia-direita {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .ideologia-centro {
            background-color: rgba(255, 193, 7, 0.1);
            color: #b58900;
        }
        
        .ideologia-esquerda {
            background-color: rgba(13, 110, 253, 0.1);
            color: #0d6efd;
        }
        
        .partido-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .partido-cadeiras {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--cor-borda);
        }
        
        .cadeiras-numero {
            font-size: 2rem;
            font-weight: 700;
            color: var(--verde-gabao);
            text-align: center;
            margin-bottom: 0.5rem;
        }
        
        .cadeiras-label {
            text-align: center;
            color: var(--cinza-escuro);
            font-size: 0.9rem;
        }
        
        .grafico-container {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 3rem;
            box-shadow: var(--sombra-suave);
        }
        
        .btn-adicionar-partido {
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            color: white;
            border: none;
            padding: 0.9rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
            transition: transform var(--transicao-media);
        }
        
        .btn-adicionar-partido:hover {
            transform: translateY(-3px);
        }
        
        /* ===== PAINEL ADMIN ===== */
        .painel-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            min-height: 600px;
        }
        
        .painel-menu {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
        }
        
        .painel-menu h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--verde-gabao);
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--cor-borda);
        }
        
        .painel-menu ul {
            list-style: none;
        }
        
        .painel-menu li {
            margin-bottom: 0.5rem;
        }
        
        .painel-menu a {
            display: block;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            color: var(--cor-texto);
            text-decoration: none;
            transition: all var(--transicao-rapida);
        }
        
        .painel-menu a:hover {
            background-color: rgba(0, 158, 96, 0.1);
            color: var(--verde-gabao);
        }
        
        .painel-menu a.active {
            background-color: rgba(0, 158, 96, 0.15);
            color: var(--verde-gabao);
            font-weight: 600;
            border-left: 4px solid var(--verde-gabao);
        }
        
        .painel-conteudo {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
        }
        
        .painel-secao {
            display: none;
        }
        
        .painel-secao.ativa {
            display: block;
        }
        
        .painel-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .painel-card {
            background-color: var(--cor-fundo);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
        }
        
        .painel-card-numero {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--verde-gabao);
            margin-bottom: 0.5rem;
        }
        
        .painel-card-texto {
            color: var(--cinza-escuro);
            font-size: 0.9rem;
        }
        
        .painel-formulario {
            background-color: var(--cor-fundo);
            border-radius: 10px;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-family: var(--fonte-secundaria);
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            font-family: var(--fonte-primaria);
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .btn-salvar {
            background-color: var(--verde-gabao);
            color: white;
            border: none;
            padding: 0.9rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-family: var(--fonte-secundaria);
            font-weight: 600;
            transition: background-color var(--transicao-rapida);
        }
        
        .btn-salvar:hover {
            background-color: var(--verde-escuro);
        }
        
        .tabela-container {
            overflow-x: auto;
            margin-top: 2rem;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--cor-fundo);
        }
        
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--cor-borda);
        }
        
        th {
            background-color: rgba(0, 158, 96, 0.1);
            color: var(--verde-gabao);
            font-family: var(--fonte-secundaria);
            font-weight: 600;
        }
        
        tr:hover {
            background-color: rgba(0, 0, 0, 0.03);
        }
        
        /* ===== IA LEGISLATIVA ===== */
        .ia-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            height: 600px;
        }
        
        .ia-chat {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
            display: flex;
            flex-direction: column;
        }
        
        .ia-chat-mensagens {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 1.5rem;
            padding-right: 0.5rem;
        }
        
        .ia-mensagem {
            margin-bottom: 1.5rem;
            max-width: 80%;
        }
        
        .ia-mensagem.usuario {
            margin-left: auto;
        }
        
        .ia-mensagem-conteudo {
            padding: 1rem;
            border-radius: 12px;
            background-color: rgba(0, 158, 96, 0.1);
            border: 1px solid rgba(0, 158, 96, 0.2);
        }
        
        .ia-mensagem.usuario .ia-mensagem-conteudo {
            background-color: rgba(58, 117, 196, 0.1);
            border: 1px solid rgba(58, 117, 196, 0.2);
        }
        
        .ia-mensagem-cabecalho {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .ia-mensagem-autor {
            font-weight: 600;
            color: var(--verde-gabao);
        }
        
        .ia-mensagem.usuario .ia-mensagem-autor {
            color: var(--azul-gabao);
        }
        
        .ia-mensagem-hora {
            color: var(--cinza-escuro);
        }
        
        .ia-chat-input {
            display: flex;
            gap: 1rem;
        }
        
        .ia-chat-input textarea {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            font-family: var(--fonte-primaria);
            resize: none;
            min-height: 60px;
        }
        
        .btn-enviar-ia {
            background-color: var(--verde-gabao);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            align-self: flex-end;
            transition: background-color var(--transicao-rapida);
        }
        
        .btn-enviar-ia:hover {
            background-color: var(--verde-escuro);
        }
        
        .ia-info {
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--sombra-suave);
            border: 1px solid var(--cor-borda);
        }
        
        .ia-info h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--verde-gabao);
        }
        
        .ia-recursos {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .ia-recurso {
            background-color: var(--cor-fundo);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--azul-gabao);
        }
        
        .ia-recurso h4 {
            font-family: var(--fonte-secundaria);
            margin-bottom: 0.5rem;
            color: var(--cor-texto);
        }
        
        .ia-recurso p {
            font-size: 0.9rem;
            color: var(--cinza-escuro);
        }
        
        .btn-ia-flutuante {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--verde-gabao) 0%, var(--azul-gabao) 100%);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--sombor-forte);
            z-index: 999;
            transition: transform var(--transicao-media);
        }
        
        .btn-ia-flutuante:hover {
            transform: scale(1.1);
        }
        
        /* ===== MODAIS ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            padding: 1rem;
        }
        
        .modal.ativo {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-conteudo {
            background-color: var(--cor-fundo-card);
            border-radius: 16px;
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--sombra-forte);
            position: relative;
        }
        
        .modal-fechar {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--cinza-escuro);
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color var(--transicao-rapida);
        }
        
        .modal-fechar:hover {
            background-color: var(--cinza-medio);
        }
        
        .modal-titulo {
            font-family: var(--fonte-titulos);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--verde-gabao);
        }
        
        /* ===== LOGIN ===== */
        .login-container {
            max-width: 400px;
            margin: 0 auto;
            background-color: var(--cor-fundo-card);
            border-radius: 16px;
            padding: 3rem 2rem;
            box-shadow: var(--sombra-media);
            border: 1px solid var(--cor-borda);
            text-align: center;
        }
        
        .login-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--verde-gabao), var(--azul-gabao));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 auto 1.5rem;
        }
        
        .login-titulo {
            font-family: var(--fonte-titulos);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: var(--verde-gabao);
        }
        
        .login-subtitulo {
            color: var(--cinza-escuro);
            margin-bottom: 2rem;
        }
        
        .login-opcoes {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .login-opcao {
            background-color: var(--cor-fundo);
            border: 2px solid var(--cor-borda);
            border-radius: 10px;
            padding: 1rem;
            cursor: pointer;
            transition: all var(--transicao-rapida);
            text-align: left;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .login-opcao:hover {
            border-color: var(--verde-gabao);
            background-color: rgba(0, 158, 96, 0.05);
        }
        
        .login-opcao i {
            font-size: 1.5rem;
            color: var(--verde-gabao);
        }
        
        .login-opcao h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
            color: var(--cor-texto);
        }
        
        .login-opcao p {
            font-size: 0.9rem;
            color: var(--cinza-escuro);
        }
        
        /* ===== FOOTER ===== */
        footer {
            background-color: var(--cor-fundo-card);
            border-top: 3px solid var(--verde-gabao);
            margin-top: 4rem;
            padding: 3rem 2rem 2rem;
        }
        
        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .footer-col h3 {
            font-family: var(--fonte-secundaria);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--verde-gabao);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--cor-texto);
            text-decoration: none;
            transition: color var(--transicao-rapida);
        }
        
        .footer-links a:hover {
            color: var(--verde-gabao);
        }
        
        .footer-info p {
            margin-bottom: 0.8rem;
            color: var(--cinza-escuro);
        }
        
        .footer-info i {
            color: var(--verde-gabao);
            margin-right: 0.5rem;
            width: 20px;
        }
        
        .footer-redes {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .footer-rede {
            width: 40px;
            height: 40px;
            background-color: var(--cor-fundo);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--cor-texto);
            text-decoration: none;
            transition: all var(--transicao-rapida);
        }
        
        .footer-rede:hover {
            background-color: var(--verde-gabao);
            color: white;
            transform: translateY(-3px);
        }
        
        .footer-copyright {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--cor-borda);
            color: var(--cinza-escuro);
            font-size: 0.9rem;
        }
        
        /* ===== RESPONSIVIDADE ===== */
        @media (max-width: 1024px) {
            .header-container {
                padding: 1rem;
            }
            
            .painel-container {
                grid-template-columns: 1fr;
            }
            
            .ia-container {
                grid-template-columns: 1fr;
                height: auto;
            }
        }
        
        @media (max-width: 768px) {
            html {
                font-size: 14px;
            }
            
            .header-container {
                flex-wrap: wrap;
            }
            
            nav {
                order: 3;
                width: 100%;
                margin-top: 1rem;
                display: none;
            }
            
            nav.ativo {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 0;
            }
            
            nav li {
                border-bottom: 1px solid var(--cor-borda);
            }
            
            nav a {
                display: block;
                padding: 1rem;
            }
            
            .menu-mobile-btn {
                display: block;
            }
            
            .header-controles {
                order: 2;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .projetos-container, .parlamentares-container, .bancadas-container, .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .opcoes-dispositivo {
                flex-direction: column;
                align-items: center;
            }
            
            .opcao-dispositivo {
                width: 100%;
                max-width: 300px;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
            }
        }
        
        /* ===== UTILITÁRIOS ===== */
        .texto-centro {
            text-align: center;
        }
        
        .mb-1 { margin-bottom: 1rem; }
        .mb-2 { margin-bottom: 2rem; }
        .mb-3 { margin-bottom: 3rem; }
        .mt-1 { margin-top: 1rem; }
        .mt-2 { margin-top: 2rem; }
        .mt-3 { margin-top: 3rem; }
        
        .hidden {
            display: none !important;
        }
        
        /* ===== ANIMAÇÕES ===== */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 158, 96, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 158, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 158, 96, 0); }
        }
        
        /* ===== ESTILOS PARA TEXTO AUMENTADO ===== */
        .fonte-grande {
            font-size: 1.2rem !important;
        }
        
        .fonte-muito-grande {
            font-size: 1.4rem !important;
        }
        
        /* ===== ESTILOS PARA MODO LEITURA FÁCIL ===== */
        .modo-leitura {
            font-family: Arial, sans-serif !important;
            line-height: 1.8 !important;
            letter-spacing: 0.5px !important;
        }
        
        .modo-leitura h1,
        .modo-leitura h2,
        .modo-leitura h3,
        .modo-leitura h4 {
            font-family: Arial, sans-serif !important;
        }
    </style>
</head>
<body>
    <!-- Tela de Acessibilidade Inicial -->
    <div id="tela-acessibilidade">
        <div class="acessibilidade-conteudo">
            <h1 class="acessibilidade-titulo">Bem-vindo ao Portal Legislativo de Brookasil</h1>
            <p class="acessibilidade-subtitulo">Selecione o modo de visualização mais adequado para o seu dispositivo:</p>
            
            <div class="opcoes-dispositivo">
                <div class="opcao-dispositivo" data-dispositivo="celular">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>Celular</h3>
                    <p>Visualização otimizada para telas verticais</p>
                </div>
                <div class="opcao-dispositivo" data-dispositivo="computador">
                    <i class="fas fa-laptop"></i>
                    <h3>Tablet / Computador</h3>
                    <p>Visualização otimizada para telas horizontais</p>
                </div>
            </div>
            
            <div class="recursos-acessibilidade">
                <h3>Recursos de Acessibilidade Disponíveis:</h3>
                <div class="recursos-lista">
                    <div class="recurso-item"><i class="fas fa-adjust"></i> Alto Contraste</div>
                    <div class="recurso-item"><i class="fas fa-text-height"></i> Ajuste de Tamanho de Fonte</div>
                    <div class="recurso-item"><i class="fas fa-book-reader"></i> Modo Leitura Fácil</div>
                    <div class="recurso-item"><i class="fas fa-keyboard"></i> Navegação por Teclado</div>
                    <div class="recurso-item"><i class="fas fa-universal-access"></i> Compatível com Leitores de Tela</div>
                    <div class="recurso-item"><i class="fas fa-eye"></i> Texto Alternativo em Imagens</div>
                </div>
            </div>
            
            <p class="mt-2">Sua escolha será salva para futuras visitas.</p>
        </div>
    </div>

    <!-- Introdução Cinematográfica -->
    <div id="introducao-cinematografica">
        <div class="cena" id="cena-1">
            <!-- Tela preta com som institucional -->
        </div>
        <div class="cena" id="cena-2">
            <div class="bandeiras-container">
                <div class="bandeira bandeira-brookasil"></div>
                <div class="bandeira bandeira-gabao"></div>
            </div>
        </div>
        <div class="cena" id="cena-3">
            <div class="texto-dourado">Poder Legislativo de Brookasil</div>
            <div class="subtitulo-intro">Sistema Oficial – 2026</div>
        </div>
        <div class="cena" id="cena-4">
            <div class="destaque-estrutura">
                <div class="estrutura-item">
                    <h3>Senado Federal</h3>
                    <p>Câmara Alta do Legislativo</p>
                </div>
                <div class="estrutura-item">
                    <h3>Assembleia Geral</h3>
                    <p>Câmara Baixa do Legislativo</p>
                </div>
            </div>
        </div>
        <button id="botao-pular-intro">Pular Introdução</button>
    </div>

    <!-- Site Principal -->
    <div id="site-principal" class="hidden">
        <!-- Header -->
        <header>
            <div class="header-container">
                <div class="logo-container">
                    <div class="logo">BL</div>
                    <div class="logo-texto">
                        <h1>Poder Legislativo de Brookasil</h1>
                        <p>Palácio do Esplendor • CDE • 2026</p>
                    </div>
                </div>
                
                <button class="menu-mobile-btn" id="menu-mobile-btn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <nav id="nav-principal">
                    <ul>
                        <li><a href="#inicio" class="nav-link active" data-secao="inicio">Início</a></li>
                        <li><a href="#parlamentares" class="nav-link" data-secao="parlamentares">Parlamentares</a></li>
                        <li><a href="#projetos" class="nav-link" data-secao="projetos">Projetos</a></li>
                        <li><a href="#bancadas" class="nav-link" data-secao="bancadas">Bancadas</a></li>
                        <li><a href="#painel" class="nav-link" data-secao="painel">Painel</a></li>
                        <li><a href="#ia" class="nav-link" data-secao="ia">IA Legislativa</a></li>
                        <li><a href="#candidatura" class="nav-link" target="_blank">Candidatura</a></li>
                        <li><a href="#filiação" class="nav-link" target="_blank">Filiação</a></li>
                    </ul>
                </nav>
                
                <div class="header-controles">
                    <div class="controle-acessibilidade">
                        <button class="btn-controle" id="btn-aumentar-fonte" title="Aumentar fonte">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button class="btn-controle" id="btn-diminuir-fonte" title="Diminuir fonte">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button class="btn-controle" id="btn-alto-contraste" title="Alto contraste">
                            <i class="fas fa-adjust"></i>
                        </button>
                        <button class="btn-controle" id="btn-modo-leitura" title="Modo leitura fácil">
                            <i class="fas fa-book-reader"></i>
                        </button>
                    </div>
                    
                    <button class="btn-tema" id="btn-tema">
                        <i class="fas fa-moon"></i>
                        <span>Tema Escuro</span>
                    </button>
                    
                    <button class="btn-login" id="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Entrar</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Conteúdo Principal -->
        <main>
            <!-- Página Início -->
            <section id="inicio" class="secao ativa">
                <div class="hero">
                    <h2>Poder Legislativo de Brookasil</h2>
                    <p>Bem-vindo ao portal oficial do sistema legislativo de Brookasil. Aqui você encontra informações sobre parlamentares, projetos de lei, partidos políticos e muito mais.</p>
                    
                    <div class="hero-info">
                        <div class="info-item">
                            <i class="fas fa-landmark"></i>
                            <p>Palácio do Esplendor</p>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <p>Cidade Eleitoral (CDE)</p>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-calendar-alt"></i>
                            <p>Ano Oficial 2026</p>
                        </div>
                    </div>
                </div>
                
                <h2 class="titulo-secao">Sistema Legislativo Completo</h2>
                <p class="subtitulo-secao">Explore todas as funcionalidades do nosso sistema governamental moderno e seguro.</p>
                
                <div class="cards-grid">
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Parlamentares</h3>
                        <p>Acesse informações completas sobre senadores, deputados federais e estaduais em exercício.</p>
                        <button class="card-btn" data-secao="parlamentares">
                            Ver Parlamentares
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3>Projetos de Lei</h3>
                        <p>Consulte, acompanhe e filtre todos os projetos de lei em tramitação ou já finalizados.</p>
                        <button class="card-btn" data-secao="projetos">
                            Ver Projetos
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-flag"></i>
                        </div>
                        <h3>Bancadas Partidárias</h3>
                        <p>Visualize a composição partidária, ideologias e número de cadeiras por partido.</p>
                        <button class="card-btn" data-secao="bancadas">
                            Ver Bancadas
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3>IA Legislativa</h3>
                        <p>Converse com nossa inteligência artificial especializada em legislação de Brookasil.</p>
                        <button class="card-btn" data-secao="ia">
                            Acessar IA
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="noticias-container">
                    <h2 class="titulo-secao">Últimas Notícias</h2>
                    
                    <div class="noticia">
                        <h3>Nova Legislatura 2026-2030 Inaugurada</h3>
                        <div class="noticia-data">15 de Janeiro, 2026</div>
                        <p>O Poder Legislativo de Brookasil inicia sua nova legislatura com a posse de todos os parlamentares eleitos. A cerimônia ocorreu no Palácio do Esplendor com a presença de autoridades.</p>
                    </div>
                    
                    <div class="noticia">
                        <h3>Presidente do Senado Toma Posse</h3>
                        <div class="noticia-data">10 de Janeiro, 2026</div>
                        <p>O novo Presidente do Senado Federal foi eleito e tomou posse hoje, assumindo a liderança da casa legislativa superior com planos para modernização do sistema.</p>
                    </div>
                    
                    <div class="noticia">
                        <h3>Primeiros Projetos de Lei da Nova Legislatura</h3>
                        <div class="noticia-data">5 de Janeiro, 2026</div>
                        <p>Já foram protocolados os primeiros 15 projetos de lei da legislatura 2026-2030, abordando temas como educação, saúde e infraestrutura para Brookasil.</p>
                    </div>
                </div>
            </section>

            <!-- Página Parlamentares -->
            <section id="parlamentares" class="secao">
                <h2 class="titulo-secao">Parlamentares</h2>
                <p class="subtitulo-secao">Consulte informações completas sobre senadores, deputados federais e deputados estaduais em exercício.</p>
                
                <div class="filtros-container">
                    <h3>Filtrar Parlamentares</h3>
                    <div class="filtros-row">
                        <div class="filtro-grupo">
                            <label for="filtro-cargo">Cargo</label>
                            <select id="filtro-cargo">
                                <option value="todos">Todos os Cargos</option>
                                <option value="senador">Senador</option>
                                <option value="deputado-federal">Deputado Federal</option>
                                <option value="deputado-estadual">Deputado Estadual</option>
                            </select>
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-partido">Partido</label>
                            <select id="filtro-partido">
                                <option value="todos">Todos os Partidos</option>
                            </select>
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-status">Status</label>
                            <select id="filtro-status">
                                <option value="todos">Todos os Status</option>
                                <option value="ativo">Em Exercício</option>
                                <option value="afastado">Afastado</option>
                                <option value="ex">Ex-Parlamentar</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filtros-row">
                        <div class="filtro-grupo">
                            <label for="filtro-nome">Nome do Parlamentar</label>
                            <input type="text" id="filtro-nome" placeholder="Digite o nome...">
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-legislatura">Legislatura</label>
                            <select id="filtro-legislatura">
                                <option value="todos">Todas as Legislaturas</option>
                                <option value="2026-2030">2026-2030</option>
                                <option value="2022-2026">2022-2026</option>
                            </select>
                        </div>
                        
                        <div class="filtro-grupo" style="display: flex; align-items: flex-end;">
                            <button class="btn-filtrar" id="btn-aplicar-filtros">
                                <i class="fas fa-filter"></i>
                                Aplicar Filtros
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="parlamentares-container" id="parlamentares-lista">
                    <!-- Os cards de parlamentares serão inseridos aqui via JavaScript -->
                </div>
                
                <div class="texto-centro mt-3">
                    <p>Exibindo <span id="contador-parlamentares">0</span> parlamentares</p>
                </div>
            </section>

            <!-- Página Projetos -->
            <section id="projetos" class="secao">
                <div class="projetos-header">
                    <div>
                        <h2 class="titulo-secao">Projetos de Lei</h2>
                        <p class="subtitulo-secao">Acompanhe a tramitação de projetos de lei no Poder Legislativo de Brookasil.</p>
                    </div>
                    
                    <button class="btn-novo-projeto" id="btn-novo-projeto">
                        <i class="fas fa-plus"></i>
                        Novo Projeto
                    </button>
                </div>
                
                <div class="filtros-container">
                    <h3>Filtrar Projetos</h3>
                    <div class="filtros-row">
                        <div class="filtro-grupo">
                            <label for="filtro-projeto-status">Status</label>
                            <select id="filtro-projeto-status">
                                <option value="todos">Todos os Status</option>
                                <option value="tramitacao">Em Tramitação</option>
                                <option value="aprovado">Aprovado</option>
                                <option value="derrubado">Derrubado</option>
                                <option value="arquivado">Arquivado</option>
                            </select>
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-projeto-partido">Partido do Autor</label>
                            <select id="filtro-projeto-partido">
                                <option value="todos">Todos os Partidos</option>
                            </select>
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-projeto-ano">Ano</label>
                            <select id="filtro-projeto-ano">
                                <option value="todos">Todos os Anos</option>
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filtros-row">
                        <div class="filtro-grupo">
                            <label for="filtro-projeto-autor">Autor</label>
                            <input type="text" id="filtro-projeto-autor" placeholder="Nome do autor...">
                        </div>
                        
                        <div class="filtro-grupo">
                            <label for="filtro-projeto-titulo">Título</label>
                            <input type="text" id="filtro-projeto-titulo" placeholder="Palavras no título...">
                        </div>
                        
                        <div class="filtro-grupo" style="display: flex; align-items: flex-end;">
                            <button class="btn-filtrar" id="btn-filtrar-projetos">
                                <i class="fas fa-filter"></i>
                                Aplicar Filtros
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="projetos-container" id="projetos-lista">
                    <!-- Os cards de projetos serão inseridos aqui via JavaScript -->
                </div>
                
                <div class="texto-centro mt-3">
                    <p>Exibindo <span id="contador-projetos">0</span> projetos de lei</p>
                </div>
            </section>

            <!-- Página Bancadas -->
            <section id="bancadas" class="secao">
                <h2 class="titulo-secao">Bancadas Partidárias</h2>
                <p class="subtitulo-secao">Conheça os partidos políticos com representação no Poder Legislativo de Brookasil.</p>
                
                <div class="bancadas-container" id="bancadas-lista">
                    <!-- Os cards de partidos serão inseridos aqui via JavaScript -->
                </div>
                
                <div class="texto-centro mt-3">
                    <button class="btn-adicionar-partido" id="btn-adicionar-partido">
                        <i class="fas fa-plus"></i>
                        Adicionar Novo Partido
                    </button>
                </div>
                
                <div class="grafico-container">
                    <h3>Distribuição de Cadeiras por Ideologia</h3>
                    <div style="height: 300px;">
                        <canvas id="grafico-cadeiras"></canvas>
                    </div>
                </div>
            </section>

            <!-- Página Painel -->
            <section id="painel" class="secao">
                <h2 class="titulo-secao">Painel de Controle</h2>
                <p class="subtitulo-secao">Acesse as ferramentas administrativas do sistema legislativo.</p>
                
                <div id="painel-visitante" class="painel-conteudo">
                    <div class="texto-centro mb-3">
                        <div class="login-logo">BL</div>
                        <h3>Painel de Controle Legislativo</h3>
                        <p>Faça login para acessar as ferramentas administrativas do sistema.</p>
                    </div>
                    
                    <div class="login-opcoes">
                        <div class="login-opcao" data-perfil="dono">
                            <i class="fas fa-crown"></i>
                            <div>
                                <h3>Dono do RP</h3>
                                <p>Acesso total ao sistema legislativo</p>
                            </div>
                        </div>
                        
                        <div class="login-opcao" data-perfil="presidente-senado">
                            <i class="fas fa-gavel"></i>
                            <div>
                                <h3>Presidente do Senado</h3>
                                <p>Administrar apenas o Senado Federal</p>
                            </div>
                        </div>
                        
                        <div class="login-opcao" data-perfil="presidente-assembleia">
                            <i class="fas fa-users"></i>
                            <div>
                                <h3>Presidente da Assembleia</h3>
                                <p>Administrar apenas a Assembleia Geral</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-senha">Senha de Acesso</label>
                        <input type="password" id="login-senha" placeholder="Digite a senha de acesso">
                    </div>
                    
                    <button class="btn-salvar" id="btn-entrar-painel" style="width: 100%;">
                        <i class="fas fa-sign-in-alt"></i>
                        Entrar no Painel
                    </button>
                </div>
                
                <!-- Painel do Dono do RP (será mostrado após login) -->
                <div id="painel-dono" class="hidden">
                    <div class="painel-container">
                        <div class="painel-menu">
                            <h3>Menu do Dono</h3>
                            <ul>
                                <li><a href="#" class="painel-link active" data-painel="dashboard">Dashboard</a></li>
                                <li><a href="#" class="painel-link" data-painel="gerenciar-parlamentares">Gerenciar Parlamentares</a></li>
                                <li><a href="#" class="painel-link" data-painel="gerenciar-partidos">Gerenciar Partidos</a></li>
                                <li><a href="#" class="painel-link" data-painel="gerenciar-projetos">Gerenciar Projetos</a></li>
                                <li><a href="#" class="painel-link" data-painel="legislaturas">Legislaturas</a></li>
                                <li><a href="#" class="painel-link" data-painel="logs">Logs do Sistema</a></li>
                                <li><a href="#" class="painel-link" data-painel="configuracoes">Configurações</a></li>
                            </ul>
                            
                            <button class="btn-salvar mt-3" id="btn-sair-painel" style="width: 100%;">
                                <i class="fas fa-sign-out-alt"></i>
                                Sair do Painel
                            </button>
                        </div>
                        
                        <div class="painel-conteudo">
                            <div id="dashboard" class="painel-secao ativa">
                                <h3>Dashboard do Dono do RP</h3>
                                <p>Bem-vindo ao painel de controle completo do sistema legislativo. Aqui você tem acesso a todas as funcionalidades administrativas.</p>
                                
                                <div class="painel-cards">
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-parlamentares">0</div>
                                        <div class="painel-card-texto">Parlamentares Ativos</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-projetos">0</div>
                                        <div class="painel-card-texto">Projetos de Lei</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-partidos">0</div>
                                        <div class="painel-card-texto">Partidos Ativos</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-cadeiras">0</div>
                                        <div class="painel-card-texto">Cadeiras Ocupadas</div>
                                    </div>
                                </div>
                                
                                <div class="painel-formulario">
                                    <h4>Ações Rápidas</h4>
                                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                        <button class="card-btn" id="btn-adicionar-parlamentar">
                                            <i class="fas fa-user-plus"></i>
                                            Adicionar Parlamentar
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: var(--azul-gabao);" id="btn-adicionar-projeto">
                                            <i class="fas fa-file-medical"></i>
                                            Adicionar Projeto
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: var(--amarelo-gabao); color: var(--preto);" id="btn-encerrar-legislatura">
                                            <i class="fas fa-flag-checkered"></i>
                                            Encerrar Legislatura
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: #6c757d;" id="btn-ver-logs">
                                            <i class="fas fa-clipboard-list"></i>
                                            Ver Logs
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="gerenciar-parlamentares" class="painel-secao">
                                <h3>Gerenciar Parlamentares</h3>
                                <p>Adicione, edite ou remova parlamentares do sistema.</p>
                                
                                <div class="tabela-container">
                                    <table id="tabela-parlamentares">
                                        <thead>
                                            <tr>
                                                <th>Nome</th>
                                                <th>Cargo</th>
                                                <th>Partido</th>
                                                <th>Status</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Dados serão inseridos via JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <!-- Outras seções do painel serão implementadas de forma similar -->
                        </div>
                    </div>
                </div>
                
                <!-- Painel do Presidente do Senado (será mostrado após login) -->
                <div id="painel-presidente-senado" class="hidden">
                    <div class="painel-container">
                        <div class="painel-menu">
                            <h3>Menu do Presidente</h3>
                            <ul>
                                <li><a href="#" class="painel-link active" data-painel="dashboard-senado">Dashboard</a></li>
                                <li><a href="#" class="painel-link" data-painel="senadores">Senadores</a></li>
                                <li><a href="#" class="painel-link" data-painel="projetos-senado">Projetos do Senado</a></li>
                                <li><a href="#" class="painel-link" data-painel="justificativas">Justificativas</a></li>
                                <li><a href="#" class="painel-link" data-painel="relatorios-senado">Relatórios</a></li>
                            </ul>
                            
                            <button class="btn-salvar mt-3" id="btn-sair-senado" style="width: 100%;">
                                <i class="fas fa-sign-out-alt"></i>
                                Sair do Painel
                            </button>
                        </div>
                        
                        <div class="painel-conteudo">
                            <div id="dashboard-senado" class="painel-secao ativa">
                                <h3>Painel do Presidente do Senado Federal</h3>
                                <p>Bem-vindo ao painel de administração do Senado Federal. Aqui você pode gerenciar senadores, projetos de lei e justificativas de faltas.</p>
                                
                                <div class="painel-cards">
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-senadores">0</div>
                                        <div class="painel-card-texto">Senadores Ativos</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="projetos-senado-tramitacao">0</div>
                                        <div class="painel-card-texto">Projetos em Tramitação</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="justificativas-pendentes">0</div>
                                        <div class="painel-card-texto">Justificativas Pendentes</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="sessoes-mes">0</div>
                                        <div class="painel-card-texto">Sessões Este Mês</div>
                                    </div>
                                </div>
                                
                                <div class="painel-formulario">
                                    <h4>Ações Rápidas do Senado</h4>
                                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                        <button class="card-btn" id="btn-novo-projeto-senado">
                                            <i class="fas fa-file-medical"></i>
                                            Novo Projeto do Senado
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: var(--azul-gabao);" id="btn-analisar-justificativas">
                                            <i class="fas fa-clipboard-check"></i>
                                            Analisar Justificativas
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: #6c757d;" id="btn-relatorio-senado">
                                            <i class="fas fa-chart-bar"></i>
                                            Relatório do Senado
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Painel do Presidente da Assembleia (será mostrado após login) -->
                <div id="painel-presidente-assembleia" class="hidden">
                    <div class="painel-container">
                        <div class="painel-menu">
                            <h3>Menu do Presidente</h3>
                            <ul>
                                <li><a href="#" class="painel-link active" data-painel="dashboard-assembleia">Dashboard</a></li>
                                <li><a href="#" class="painel-link" data-painel="deputados-federais">Deputados Federais</a></li>
                                <li><a href="#" class="painel-link" data-painel="deputados-estaduais">Deputados Estaduais</a></li>
                                <li><a href="#" class="painel-link" data-painel="projetos-assembleia">Projetos da Assembleia</a></li>
                                <li><a href="#" class="painel-link" data-painel="pauta">Pauta Legislativa</a></li>
                                <li><a href="#" class="painel-link" data-painel="estatisticas-assembleia">Estatísticas</a></li>
                            </ul>
                            
                            <button class="btn-salvar mt-3" id="btn-sair-assembleia" style="width: 100%;">
                                <i class="fas fa-sign-out-alt"></i>
                                Sair do Painel
                            </button>
                        </div>
                        
                        <div class="painel-conteudo">
                            <div id="dashboard-assembleia" class="painel-secao ativa">
                                <h3>Painel do Presidente da Assembleia Geral</h3>
                                <p>Bem-vindo ao painel de administração da Assembleia Geral. Aqui você pode gerenciar deputados federais, estaduais e projetos de lei.</p>
                                
                                <div class="painel-cards">
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-deputados-federais">0</div>
                                        <div class="painel-card-texto">Deputados Federais</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="total-deputados-estaduais">0</div>
                                        <div class="painel-card-texto">Deputados Estaduais</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="projetos-assembleia-tramitacao">0</div>
                                        <div class="painel-card-texto">Projetos em Tramitação</div>
                                    </div>
                                    
                                    <div class="painel-card">
                                        <div class="painel-card-numero" id="votacoes-mes">0</div>
                                        <div class="painel-card-texto">Votações Este Mês</div>
                                    </div>
                                </div>
                                
                                <div class="painel-formulario">
                                    <h4>Ações Rápidas da Assembleia</h4>
                                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                        <button class="card-btn" id="btn-novo-projeto-assembleia">
                                            <i class="fas fa-file-medical"></i>
                                            Novo Projeto da Assembleia
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: var(--azul-gabao);" id="btn-organizar-pauta">
                                            <i class="fas fa-tasks"></i>
                                            Organizar Pauta
                                        </button>
                                        
                                        <button class="card-btn" style="background-color: #6c757d;" id="btn-estatisticas-assembleia">
                                            <i class="fas fa-chart-pie"></i>
                                            Estatísticas da Assembleia
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Página IA Legislativa -->
            <section id="ia" class="secao">
                <h2 class="titulo-secao">IA Legislativa Institucional</h2>
                <p class="subtitulo-secao">Converse com nossa inteligência artificial especializada em legislação de Brookasil.</p>
                
                <div class="ia-container">
                    <div class="ia-chat">
                        <div class="ia-chat-mensagens" id="ia-mensagens">
                            <div class="ia-mensagem">
                                <div class="ia-mensagem-cabecalho">
                                    <span class="ia-mensagem-autor">IA Legislativa</span>
                                    <span class="ia-mensagem-hora">Agora</span>
                                </div>
                                <div class="ia-mensagem-conteudo">
                                    Olá! Eu sou a IA Legislativa do Poder Legislativo de Brookasil. Posso ajudar você a entender leis, explicar procedimentos legislativos, auxiliar parlamentares e muito mais. Como posso ajudar você hoje?
                                </div>
                            </div>
                        </div>
                        
                        <div class="ia-chat-input">
                            <textarea id="ia-input" placeholder="Digite sua pergunta sobre legislação, procedimentos ou informações institucionais..."></textarea>
                            <button class="btn-enviar-ia" id="btn-enviar-ia">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="ia-info">
                        <h3>Recursos da IA Legislativa</h3>
                        
                        <div class="ia-recursos">
                            <div class="ia-recurso">
                                <h4>Explicar Leis</h4>
                                <p>Peça para explicar leis existentes em linguagem simples e acessível.</p>
                            </div>
                            
                            <div class="ia-recurso">
                                <h4>Auxílio a Parlamentares</h4>
                                <p>Ajude parlamentares com procedimentos, prazos e regras do legislativo.</p>
                            </div>
                            
                            <div class="ia-recurso">
                                <h4>Informações Institucionais</h4>
                                <p>Obtenha informações sobre Brookasil, CDE e o sistema legislativo.</p>
                            </div>
                            
                            <div class="ia-recurso">
                                <h4>Detectar Inconsistências</h4>
                                <p>Identifique possíveis inconsistências em projetos ou procedimentos.</p>
                            </div>
                            
                            <div class="ia-recurso">
                                <h4>Histórico Legislativo</h4>
                                <p>Acesse informações sobre legislaturas anteriores e histórico político.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Poder Legislativo de Brookasil</h3>
                    <div class="footer-info">
                        <p><i class="fas fa-landmark"></i> Palácio do Esplendor</p>
                        <p><i class="fas fa-map-marker-alt"></i> Cidade Eleitoral (CDE) – Brookasil</p>
                        <p><i class="fas fa-calendar-alt"></i> Ano Oficial: 2026</p>
                        <p><i class="fas fa-users"></i> Colaboradores: Tutu Protásio, Ryan Dantas, Antônio Aveiro</p>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Links Rápidos</h3>
                    <ul class="footer-links">
                        <li><a href="#inicio" class="nav-link" data-secao="inicio">Início</a></li>
                        <li><a href="#parlamentares" class="nav-link" data-secao="parlamentares">Parlamentares</a></li>
                        <li><a href="#projetos" class="nav-link" data-secao="projetos">Projetos de Lei</a></li>
                        <li><a href="#bancadas" class="nav-link" data-secao="bancadas">Bancadas Partidárias</a></li>
                        <li><a href="#painel" class="nav-link" data-secao="painel">Painel de Controle</a></li>
                        <li><a href="#ia" class="nav-link" data-secao="ia">IA Legislativa</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Recursos Externos</h3>
                    <ul class="footer-links">
                        <li><a href="https://tsedoroblox2025.github.io/candidatura-cde/" target="_blank">Candidatura CDE</a></li>
                        <li><a href="https://tsedoroblox2025.github.io/filia-o.html/" target="_blank">Filiação Partidária</a></li>
                        <li><a href="#legislacao">Legislação Brookasil</a></li>
                        <li><a href="#estatisticas">Estatísticas Oficiais</a></li>
                        <li><a href="#transparencia">Portal da Transparência</a></li>
                        <li><a href="#contato">Fale Conosco</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Conecte-se</h3>
                    <div class="footer-info">
                        <p>Siga-nos nas redes sociais para acompanhar as últimas notícias e atualizações do Poder Legislativo de Brookasil.</p>
                        
                        <div class="footer-redes">
                            <a href="#" class="footer-rede" title="Twitter">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="footer-rede" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="footer-rede" title="Instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="footer-rede" title="YouTube">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="#" class="footer-rede" title="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-copyright">
                <p>&copy; 2026 Poder Legislativo de Brookasil. Todos os direitos reservados.</p>
                <p>Sistema desenvolvido com excelência para o governo de Brookasil.</p>
            </div>
        </footer>
    </div>

    <!-- Botão flutuante da IA -->
    <button class="btn-ia-flutuante" id="btn-ia-flutuante" title="IA Legislativa">
        <i class="fas fa-robot"></i>
    </button>

    <!-- Modal Genérico -->
    <div class="modal" id="modal-generico">
        <div class="modal-conteudo">
            <button class="modal-fechar" id="modal-fechar">&times;</button>
            <h3 class="modal-titulo" id="modal-titulo">Título do Modal</h3>
            <div id="modal-conteudo">
                Conteúdo do modal será inserido aqui.
            </div>
        </div>
    </div>

    <!-- Modal de Login -->
    <div class="modal" id="modal-login">
        <div class="modal-conteudo">
            <button class="modal-fechar" id="modal-login-fechar">&times;</button>
            <div class="login-container">
                <div class="login-logo">BL</div>
                <h2 class="login-titulo">Acesso ao Sistema</h2>
                <p class="login-subtitulo">Selecione seu perfil e digite a senha correspondente.</p>
                
                <div class="login-opcoes">
                    <div class="login-opcao" data-perfil="dono">
                        <i class="fas fa-crown"></i>
                        <div>
                            <h3>Dono do RP</h3>
                            <p>Acesso total ao sistema legislativo</p>
                        </div>
                    </div>
                    
                    <div class="login-opcao" data-perfil="presidente-senado">
                        <i class="fas fa-gavel"></i>
                        <div>
                            <h3>Presidente do Senado</h3>
                            <p>Administrar apenas o Senado Federal</p>
                        </div>
                    </div>
                    
                    <div class="login-opcao" data-perfil="presidente-assembleia">
                        <i class="fas fa-users"></i>
                        <div>
                            <h3>Presidente da Assembleia</h3>
                            <p>Administrar apenas a Assembleia Geral</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="modal-login-senha">Senha de Acesso</label>
                    <input type="password" id="modal-login-senha" placeholder="Digite a senha de acesso">
                </div>
                
                <div class="form-group">
                    <div id="login-mensagem" class="hidden" style="color: #dc3545; padding: 0.5rem; background-color: rgba(220, 53, 69, 0.1); border-radius: 5px; margin-top: 1rem;"></div>
                </div>
                
                <button class="btn-salvar" id="modal-btn-entrar" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i>
                    Entrar no Sistema
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // ===== CONFIGURAÇÃO DO FIREBASE =====
        const firebaseConfig = {
            apiKey: "AIzaSyCXIiBXNSxiUZhRfJciSsfOLo5lc3BY0CY",
            authDomain: "legislativo-brookasil.firebaseapp.com",
            databaseURL: "https://legislativo-brookasil-default-rtdb.firebaseio.com",
            projectId: "legislativo-brookasil",
            storageBucket: "legislativo-brookasil.appspot.com",
            messagingSenderId: "1062436712275",
            appId: "1:1062436712275:web:4d5f4c0a512923a58f1627"
        };

        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // ===== VARIÁVEIS GLOBAIS =====
        let usuarioLogado = null;
        let perfilAtual = null;
        let dadosParlamentares = [];
        let dadosProjetos = [];
        let dadosPartidos = [];
        let dadosExParlamentares = [];
        let legislaturaAtual = "2026-2030";
        let tamanhoFonteAtual = 1;
        let modoAltoContraste = false;
        let modoLeitura = false;
        let temaEscuro = false;
        let dispositivoEscolhido = null;
        let introducaoExecutada = false;

        // ===== INICIALIZAÇÃO DO SISTEMA =====
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar localStorage para preferências
            carregarPreferencias();
            
            // Inicializar elementos da interface
            inicializarElementos();
            
            // Configurar eventos
            configurarEventos();
            
            // Carregar dados do Firebase
            carregarDadosFirebase();
            
            // Mostrar tela de acessibilidade se necessário
            if (!dispositivoEscolhido) {
                mostrarTelaAcessibilidade();
            } else {
                iniciarSistema();
            }
        });

        // ===== FUNÇÕES DE INICIALIZAÇÃO =====
        function carregarPreferencias() {
            // Dispositivo escolhido
            dispositivoEscolhido = localStorage.getItem('dispositivo-brookasil');
            
            // Tema
            temaEscuro = localStorage.getItem('tema-escuro') === 'true';
            if (temaEscuro) {
                document.body.classList.add('tema-escuro');
                document.getElementById('btn-tema').innerHTML = '<i class="fas fa-sun"></i><span>Tema Claro</span>';
            }
            
            // Tamanho da fonte
            tamanhoFonteAtual = parseFloat(localStorage.getItem('tamanho-fonte') || 1);
            aplicarTamanhoFonte();
            
            // Alto contraste
            modoAltoContraste = localStorage.getItem('alto-contraste') === 'true';
            if (modoAltoContraste) {
                document.body.classList.add('alto-contraste');
            }
            
            // Modo leitura
            modoLeitura = localStorage.getItem('modo-leitura') === 'true';
            if (modoLeitura) {
                document.body.classList.add('modo-leitura');
            }
            
            // Introdução já executada
            introducaoExecutada = localStorage.getItem('introducao-executada') === 'true';
        }

        function inicializarElementos() {
            // Inicializar gráfico de cadeiras
            const ctx = document.getElementById('grafico-cadeiras').getContext('2d');
            window.graficoCadeiras = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Direita', 'Centro', 'Esquerda'],
                    datasets: [{
                        data: [0, 0, 0],
                        backgroundColor: [
                            'rgba(220, 53, 69, 0.8)',
                            'rgba(255, 193, 7, 0.8)',
                            'rgba(13, 110, 253, 0.8)'
                        ],
                        borderColor: [
                            'rgb(220, 53, 69)',
                            'rgb(255, 193, 7)',
                            'rgb(13, 110, 253)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'var(--cor-texto)'
                            }
                        }
                    }
                }
            });
        }

        function configurarEventos() {
            // Navegação
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const secao = this.getAttribute('data-secao');
                        mostrarSecao(secao);
                        
                        // Atualizar navegação ativa
                        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                        this.classList.add('active');
                    }
                });
            });
            
            // Menu mobile
            document.getElementById('menu-mobile-btn').addEventListener('click', function() {
                const nav = document.getElementById('nav-principal');
                nav.classList.toggle('ativo');
                this.innerHTML = nav.classList.contains('ativo') ? 
                    '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            });
            
            // Controles de acessibilidade
            document.getElementById('btn-aumentar-fonte').addEventListener('click', aumentarFonte);
            document.getElementById('btn-diminuir-fonte').addEventListener('click', diminuirFonte);
            document.getElementById('btn-alto-contraste').addEventListener('click', alternarAltoContraste);
            document.getElementById('btn-modo-leitura').addEventListener('click', alternarModoLeitura);
            document.getElementById('btn-tema').addEventListener('click', alternarTema);
            document.getElementById('btn-login').addEventListener('click', mostrarModalLogin);
            
            // Tela de acessibilidade
            document.querySelectorAll('.opcao-dispositivo').forEach(opcao => {
                opcao.addEventListener('click', function() {
                    const dispositivo = this.getAttribute('data-dispositivo');
                    selecionarDispositivo(dispositivo);
                });
            });
            
            // Introdução cinematográfica
            document.getElementById('botao-pular-intro').addEventListener('click', pularIntroducao);
            
            // IA
            document.getElementById('btn-enviar-ia').addEventListener('click', enviarMensagemIA);
            document.getElementById('ia-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    enviarMensagemIA();
                }
            });
            
            document.getElementById('btn-ia-flutuante').addEventListener('click', function() {
                mostrarSecao('ia');
            });
            
            // Modais
            document.getElementById('modal-fechar').addEventListener('click', fecharModal);
            document.getElementById('modal-login-fechar').addEventListener('click', fecharModalLogin);
            document.getElementById('modal-btn-entrar').addEventListener('click', fazerLogin);
            
            // Cards com botões de ação
            document.addEventListener('click', function(e) {
                if (e.target.closest('.card-btn')) {
                    const btn = e.target.closest('.card-btn');
                    if (btn.getAttribute('data-secao')) {
                        const secao = btn.getAttribute('data-secao');
                        mostrarSecao(secao);
                    }
                }
            });
            
            // Login no painel
            document.querySelectorAll('.login-opcao').forEach(opcao => {
                opcao.addEventListener('click', function() {
                    document.querySelectorAll('.login-opcao').forEach(o => o.style.borderColor = '');
                    this.style.borderColor = 'var(--verde-gabao)';
                });
            });
            
            document.getElementById('btn-entrar-painel').addEventListener('click', fazerLoginPainel);
            
            // Filtros
            document.getElementById('btn-aplicar-filtros').addEventListener('click', aplicarFiltrosParlamentares);
            document.getElementById('btn-filtrar-projetos').addEventListener('click', aplicarFiltrosProjetos);
            
            // Botões de ação
            document.getElementById('btn-novo-projeto').addEventListener('click', function() {
                mostrarModalNovoProjeto();
            });
            
            document.getElementById('btn-adicionar-partido').addEventListener('click', function() {
                mostrarModalNovoPartido();
            });
        }

        // ===== FUNÇÕES DO SISTEMA =====
        function mostrarTelaAcessibilidade() {
            document.getElementById('tela-acessibilidade').style.display = 'flex';
        }

        function selecionarDispositivo(dispositivo) {
            dispositivoEscolhido = dispositivo;
            localStorage.setItem('dispositivo-brookasil', dispositivo);
            
            // Aplicar classe ao body para ajustes responsivos
            document.body.classList.add('dispositivo-' + dispositivo);
            
            // Ocultar tela de acessibilidade
            document.getElementById('tela-acessibilidade').style.display = 'none';
            
            // Iniciar sistema
            iniciarSistema();
        }

        function iniciarSistema() {
            // Mostrar site principal
            document.getElementById('site-principal').classList.remove('hidden');
            
            // Executar introdução se necessário
            if (!introducaoExecutada) {
                executarIntroducaoCinematografica();
            }
            
            // Carregar dados iniciais
            carregarDadosIniciais();
        }

        function executarIntroducaoCinematografica() {
            const introducao = document.getElementById('introducao-cinematografica');
            introducao.style.display = 'flex';
            
            // Executar cenas sequencialmente
            const cenas = document.querySelectorAll('.cena');
            let cenaAtual = 0;
            
            function proximaCena() {
                if (cenaAtual > 0) {
                    cenas[cenaAtual - 1].classList.remove('ativa');
                }
                
                if (cenaAtual < cenas.length) {
                    cenas[cenaAtual].classList.add('ativa');
                    
                    // Animações específicas por cena
                    switch(cenaAtual) {
                        case 1: // Bandeiras
                            const bandeiras = document.querySelectorAll('.bandeira');
                            bandeiras.forEach((bandeira, index) => {
                                setTimeout(() => {
                                    bandeira.style.opacity = '1';
                                    bandeira.style.transform = 'scale(1)';
                                    bandeira.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                                }, index * 500);
                            });
                            break;
                        case 2: // Texto dourado
                            const texto = document.querySelector('.texto-dourado');
                            const subtitulo = document.querySelector('.subtitulo-intro');
                            
                            setTimeout(() => {
                                texto.style.opacity = '1';
                                texto.style.transform = 'translateY(0)';
                                texto.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                            }, 300);
                            
                            setTimeout(() => {
                                subtitulo.style.opacity = '1';
                                subtitulo.style.transform = 'translateY(0)';
                                subtitulo.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                            }, 1300);
                            break;
                        case 3: // Estrutura
                            const estrutura = document.querySelector('.destaque-estrutura');
                            setTimeout(() => {
                                estrutura.style.opacity = '1';
                                estrutura.style.transition = 'opacity 1.5s ease';
                            }, 300);
                            break;
                    }
                    
                    cenaAtual++;
                    
                    if (cenaAtual <= cenas.length) {
                        setTimeout(proximaCena, cenaAtual === 1 ? 1000 : 3000);
                    } else {
                        // Finalizar introdução
                        setTimeout(() => {
                            introducao.style.opacity = '0';
                            introducao.style.transition = 'opacity 1s ease';
                            
                            setTimeout(() => {
                                introducao.style.display = 'none';
                                introducaoExecutada = true;
                                localStorage.setItem('introducao-executada', 'true');
                            }, 1000);
                        }, 2000);
                    }
                }
            }
            
            // Iniciar com a primeira cena após breve pausa
            setTimeout(() => {
                proximaCena();
            }, 500);
            
            // Tocar som institucional (simulado)
            // Em um sistema real, seria um áudio real
            console.log("Tocando som institucional grave...");
        }

        function pularIntroducao() {
            const introducao = document.getElementById('introducao-cinematografica');
            introducao.style.display = 'none';
            introducaoExecutada = true;
            localStorage.setItem('introducao-executada', 'true');
        }

        function mostrarSecao(secao) {
            // Ocultar todas as seções
            document.querySelectorAll('.secao').forEach(s => {
                s.classList.remove('ativa');
            });
            
            // Mostrar seção selecionada
            document.getElementById(secao).classList.add('ativa');
            
            // Fechar menu mobile se aberto
            const nav = document.getElementById('nav-principal');
            const menuBtn = document.getElementById('menu-mobile-btn');
            if (nav.classList.contains('ativo')) {
                nav.classList.remove('ativo');
                menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            }
            
            // Atualizar navegação ativa
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-secao') === secao) {
                    link.classList.add('active');
                }
            });
            
            // Scroll para o topo da seção
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ===== FUNÇÕES DE ACESSIBILIDADE =====
        function aumentarFonte() {
            if (tamanhoFonteAtual < 1.4) {
                tamanhoFonteAtual += 0.1;
                aplicarTamanhoFonte();
                salvarPreferencia('tamanho-fonte', tamanhoFonteAtual.toString());
            }
        }

        function diminuirFonte() {
            if (tamanhoFonteAtual > 0.8) {
                tamanhoFonteAtual -= 0.1;
                aplicarTamanhoFonte();
                salvarPreferencia('tamanho-fonte', tamanhoFonteAtual.toString());
            }
        }

        function aplicarTamanhoFonte() {
            document.documentElement.style.fontSize = (16 * tamanhoFonteAtual) + 'px';
            
            // Aplicar classes adicionais para texto muito grande
            document.body.classList.remove('fonte-grande', 'fonte-muito-grande');
            if (tamanhoFonteAtual > 1.1) {
                document.body.classList.add('fonte-grande');
            }
            if (tamanhoFonteAtual > 1.3) {
                document.body.classList.add('fonte-muito-grande');
            }
        }

        function alternarAltoContraste() {
            modoAltoContraste = !modoAltoContraste;
            
            if (modoAltoContraste) {
                document.body.classList.add('alto-contraste');
            } else {
                document.body.classList.remove('alto-contraste');
            }
            
            salvarPreferencia('alto-contraste', modoAltoContraste.toString());
        }

        function alternarModoLeitura() {
            modoLeitura = !modoLeitura;
            
            if (modoLeitura) {
                document.body.classList.add('modo-leitura');
            } else {
                document.body.classList.remove('modo-leitura');
            }
            
            salvarPreferencia('modo-leitura', modoLeitura.toString());
        }

        function alternarTema() {
            temaEscuro = !temaEscuro;
            
            if (temaEscuro) {
                document.body.classList.add('tema-escuro');
                document.getElementById('btn-tema').innerHTML = '<i class="fas fa-sun"></i><span>Tema Claro</span>';
            } else {
                document.body.classList.remove('tema-escuro');
                document.getElementById('btn-tema').innerHTML = '<i class="fas fa-moon"></i><span>Tema Escuro</span>';
            }
            
            salvarPreferencia('tema-escuro', temaEscuro.toString());
            
            // Atualizar cores do gráfico
            if (window.graficoCadeiras) {
                window.graficoCadeiras.options.plugins.legend.labels.color = getComputedStyle(document.documentElement).getPropertyValue('--cor-texto');
                window.graficoCadeiras.update();
            }
        }

        function salvarPreferencia(chave, valor) {
            localStorage.setItem(chave, valor);
        }

        // ===== FUNÇÕES DO FIREBASE =====
        function carregarDadosFirebase() {
            // Carregar partidos
            database.ref('partidos').on('value', (snapshot) => {
                dadosPartidos = [];
                snapshot.forEach((childSnapshot) => {
                    const partido = childSnapshot.val();
                    partido.id = childSnapshot.key;
                    dadosPartidos.push(partido);
                });
                
                atualizarListaPartidos();
                atualizarFiltrosPartidos();
                atualizarGraficoCadeiras();
            });
            
            // Carregar parlamentares
            database.ref('parlamentares').on('value', (snapshot) => {
                dadosParlamentares = [];
                snapshot.forEach((childSnapshot) => {
                    const parlamentar = childSnapshot.val();
                    parlamentar.id = childSnapshot.key;
                    dadosParlamentares.push(parlamentar);
                });
                
                atualizarListaParlamentares();
            });
            
            // Carregar projetos
            database.ref('projetos').on('value', (snapshot) => {
                dadosProjetos = [];
                snapshot.forEach((childSnapshot) => {
                    const projeto = childSnapshot.val();
                    projeto.id = childSnapshot.key;
                    dadosProjetos.push(projeto);
                });
                
                atualizarListaProjetos();
            });
            
            // Carregar ex-parlamentares
            database.ref('ex_parlamentares').on('value', (snapshot) => {
                dadosExParlamentares = [];
                snapshot.forEach((childSnapshot) => {
                    const exParlamentar = childSnapshot.val();
                    exParlamentar.id = childSnapshot.key;
                    dadosExParlamentares.push(exParlamentar);
                });
            });
        }

        function carregarDadosIniciais() {
            // Verificar se há dados iniciais, se não, criar dados de exemplo
            database.ref('config').once('value').then((snapshot) => {
                if (!snapshot.exists()) {
                    criarDadosIniciais();
                }
            });
        }

        function criarDadosIniciais() {
            // Criar dados iniciais para demonstração
            const partidosExemplo = [
                {
                    nome: "Partido Liberal",
                    sigla: "PL",
                    numero: 22,
                    ideologia: "direita",
                    ficticio: false,
                    cadeiras: 2,
                    ativo: true
                },
                {
                    nome: "Partido Social Democrata",
                    sigla: "PSD",
                    numero: 55,
                    ideologia: "centro",
                    ficticio: false,
                    cadeiras: 0,
                    ativo: true
                },
                {
                    nome: "Partido Progressista",
                    sigla: "PP",
                    numero: 30,
                    ideologia: "esquerda",
                    ficticio: false,
                    cadeiras: 0,
                    ativo: true
                },
                {
                    nome: "Partido Verde",
                    sigla: "PV",
                    numero: 43,
                    ideologia: "esquerda",
                    ficticio: false,
                    cadeiras: 0,
                    ativo: true
                }
            ];

            const parlamentaresExemplo = [
                {
                    nome: "Tutu Protásio",
                    cargo: "Senador",
                    partido: "PLB",
                    numeroPartido: 10,
                    status: "Em exercício",
                    mandatoInicio: "2026-01-01",
                    mandatoFim: "2030-12-31",
                    legislatura: "2026-2030",
                    foto: ""
                },
                {
                    nome: "Ryan Dantas",
                    cargo: "Deputado Federal",
                    partido: "PSD",
                    numeroPartido: 20,
                    status: "Em exercício",
                    mandatoInicio: "2026-01-01",
                    mandatoFim: "2030-12-31",
                    legislatura: "2026-2030",
                    foto: ""
                },
                {
                    nome: "Antônio Aveiro",
                    cargo: "Deputado Estadual",
                    partido: "PP",
                    numeroPartido: 30,
                    status: "Em exercício",
                    mandatoInicio: "2026-01-01",
                    mandatoFim: "2030-12-31",
                    legislatura: "2026-2030",
                    foto: ""
                }
            ];

            const projetosExemplo = [
                {
                    numero: "PL-0001/2026",
                    titulo: "Lei de Modernização do Sistema Legislativo",
                    descricao: "Estabelece diretrizes para a modernização tecnológica do Poder Legislativo de Brookasil.",
                    autor: "Tutu Protásio",
                    cargoAutor: "Senador",
                    partido: "PLB",
                    status: "Em tramitação",
                    data: "2026-01-10"
                },
                {
                    numero: "PL-0002/2026",
                    titulo: "Lei de Transparência Governamental",
                    descricao: "Amplia as exigências de transparência nos órgãos públicos de Brookasil.",
                    autor: "Ryan Dantas",
                    cargoAutor: "Deputado Federal",
                    partido: "PSD",
                    status: "Aprovado",
                    data: "2026-01-12"
                }
            ];

            // Salvar no Firebase
            partidosExemplo.forEach((partido, index) => {
                database.ref('partidos').push(partido);
            });

            parlamentaresExemplo.forEach((parlamentar, index) => {
                database.ref('parlamentares').push(parlamentar);
            });

            projetosExemplo.forEach((projeto, index) => {
                database.ref('projetos').push(projeto);
            });

            // Salvar configuração inicial
            database.ref('config').set({
                legislaturaAtual: "2026-2030",
                sistemaCriado: "2026-01-01",
                ultimaAtualizacao: new Date().toISOString()
            });
        }

        // ===== FUNÇÕES DE ATUALIZAÇÃO DA INTERFACE =====
        function atualizarListaParlamentares(filtrados = null) {
            const lista = document.getElementById('parlamentares-lista');
            const contador = document.getElementById('contador-parlamentares');
            const parlamentares = filtrados || dadosParlamentares;
            
            lista.innerHTML = '';
            
            parlamentares.forEach(parlamentar => {
                const partido = dadosPartidos.find(p => p.sigla === parlamentar.partido) || {};
                
                const card = document.createElement('div');
                card.className = 'parlamentar-card';
                card.innerHTML = `
                    <div class="parlamentar-header">
                        <div class="parlamentar-foto">
                            ${parlamentar.foto ? `<img src="${parlamentar.foto}" alt="${parlamentar.nome}">` : 
                            `<i class="fas fa-user"></i>`}
                        </div>
                        <div class="parlamentar-nome">${parlamentar.nome}</div>
                        <div class="parlamentar-cargo">${parlamentar.cargo} • <span class="parlamentar-partido">${parlamentar.partido} - ${parlamentar.numeroPartido}</span></div>
                    </div>
                    <div class="parlamentar-body">
                        <div class="parlamentar-info">
                            <div class="info-item-parlamentar">
                                <label>Status:</label>
                                <span class="${parlamentar.status === 'Em exercício' ? 'status-ativo' : 'status-inativo'}">${parlamentar.status}</span>
                            </div>
                            <div class="info-item-parlamentar">
                                <label>Legislatura:</label>
                                <span>${parlamentar.legislatura}</span>
                            </div>
                            <div class="info-item-parlamentar">
                                <label>Mandato Início:</label>
                                <span>${formatarData(parlamentar.mandatoInicio)}</span>
                            </div>
                            <div class="info-item-parlamentar">
                                <label>Mandato Fim:</label>
                                <span>${formatarData(parlamentar.mandatoFim)}</span>
                            </div>
                        </div>
                        <div class="parlamentar-acoes">
                            <button class="btn-acao btn-ver" data-id="${parlamentar.id}">
                                <i class="fas fa-eye"></i> Ver
                            </button>
                            ${usuarioLogado ? `
                            <button class="btn-acao btn-editar" data-id="${parlamentar.id}">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            ${perfilAtual === 'dono' ? `
                            <button class="btn-acao btn-excluir" data-id="${parlamentar.id}">
                                <i class="fas fa-trash"></i> Excluir
                            </button>
                            ` : ''}
                            ` : ''}
                        </div>
                    </div>
                `;
                
                lista.appendChild(card);
            });
            
            contador.textContent = parlamentares.length;
            
            // Adicionar eventos aos botões
            document.querySelectorAll('.btn-ver').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const parlamentar = dadosParlamentares.find(p => p.id === id);
                    mostrarModalDetalhesParlamentar(parlamentar);
                });
            });
            
            if (usuarioLogado) {
                document.querySelectorAll('.btn-editar').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        const parlamentar = dadosParlamentares.find(p => p.id === id);
                        mostrarModalEditarParlamentar(parlamentar);
                    });
                });
                
                if (perfilAtual === 'dono') {
                    document.querySelectorAll('.btn-excluir').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const id = this.getAttribute('data-id');
                            if (confirm('Tem certeza que deseja excluir este parlamentar? Esta ação não pode ser desfeita.')) {
                                excluirParlamentar(id);
                            }
                        });
                    });
                }
            }
        }

        function atualizarListaProjetos(filtrados = null) {
            const lista = document.getElementById('projetos-lista');
            const contador = document.getElementById('contador-projetos');
            const projetos = filtrados || dadosProjetos;
            
            lista.innerHTML = '';
            
            projetos.forEach(projeto => {
                let statusClass = '';
                switch(projeto.status) {
                    case 'Em tramitação': statusClass = 'status-tramitacao'; break;
                    case 'Aprovado': statusClass = 'status-aprovado'; break;
                    case 'Derrubado': statusClass = 'status-derrubado'; break;
                    case 'Arquivado': statusClass = 'status-arquivado'; break;
                }
                
                const card = document.createElement('div');
                card.className = 'projeto-card';
                card.innerHTML = `
                    <div class="projeto-numero">${projeto.numero}</div>
                    <h3 class="projeto-titulo">${projeto.titulo}</h3>
                    <p class="projeto-descricao">${projeto.descricao}</p>
                    
                    <div class="projeto-info">
                        <div class="info-item-parlamentar">
                            <label>Autor:</label>
                            <span>${projeto.autor}</span>
                        </div>
                        <div class="info-item-parlamentar">
                            <label>Cargo:</label>
                            <span>${projeto.cargoAutor}</span>
                        </div>
                        <div class="info-item-parlamentar">
                            <label>Partido:</label>
                            <span>${projeto.partido}</span>
                        </div>
                        <div class="info-item-parlamentar">
                            <label>Data:</label>
                            <span>${formatarData(projeto.data)}</span>
                        </div>
                    </div>
                    
                    <div class="projeto-status ${statusClass}">${projeto.status}</div>
                    
                    <div class="projeto-acoes mt-2">
                        <button class="btn-acao btn-ver" data-id="${projeto.id}">
                            <i class="fas fa-eye"></i> Ver Detalhes
                        </button>
                        ${usuarioLogado ? `
                        <button class="btn-acao btn-editar" data-id="${projeto.id}">
                            <i class="fas fa-edit"></i> Editar
                        </button>
                        ` : ''}
                    </div>
                `;
                
                lista.appendChild(card);
            });
            
            contador.textContent = projetos.length;
            
            // Adicionar eventos aos botões
            document.querySelectorAll('.btn-ver').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const projeto = dadosProjetos.find(p => p.id === id);
                    mostrarModalDetalhesProjeto(projeto);
                });
            });
            
            if (usuarioLogado) {
                document.querySelectorAll('.btn-editar').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        const projeto = dadosProjetos.find(p => p.id === id);
                        mostrarModalEditarProjeto(projeto);
                    });
                });
            }
        }

        function atualizarListaPartidos() {
            const lista = document.getElementById('bancadas-lista');
            
            lista.innerHTML = '';
            
            // Filtrar apenas partidos ativos
            const partidosAtivos = dadosPartidos.filter(p => p.ativo !== false);
            
            partidosAtivos.forEach(partido => {
                let ideologiaClass = '';
                let ideologiaTexto = '';
                
                switch(partido.ideologia) {
                    case 'direita':
                        ideologiaClass = 'ideologia-direita';
                        ideologiaTexto = 'Direita';
                        break;
                    case 'centro':
                        ideologiaClass = 'ideologia-centro';
                        ideologiaTexto = 'Centro';
                        break;
                    case 'esquerda':
                        ideologiaClass = 'ideologia-esquerda';
                        ideologiaTexto = 'Esquerda';
                        break;
                }
                
                const card = document.createElement('div');
                card.className = `partido-card partido-${partido.ideologia}`;
                card.innerHTML = `
                    <div class="partido-header">
                        <div class="partido-sigla">${partido.sigla}</div>
                        <div class="partido-numero">${partido.numero}</div>
                    </div>
                    
                    <h3 class="partido-nome">${partido.nome}</h3>
                    <div class="partido-ideologia ${ideologiaClass}">${ideologiaTexto}</div>
                    
                    <div class="partido-info">
                        <div class="info-item-parlamentar">
                            <label>Número:</label>
                            <span>${partido.numero}</span>
                        </div>
                        <div class="info-item-parlamentar">
                            <label>Tipo:</label>
                            <span>${partido.ficticio ? 'Partido Fictício' : 'Partido Real'}</span>
                        </div>
                    </div>
                    
                    <div class="partido-cadeiras">
                        <div class="cadeiras-numero">${partido.cadeiras || 0}</div>
                        <div class="cadeiras-label">Cadeiras Ocupadas</div>
                    </div>
                    
                    ${usuarioLogado && perfilAtual === 'dono' ? `
                    <div class="parlamentar-acoes mt-2">
                        <button class="btn-acao btn-editar" data-id="${partido.id}">
                            <i class="fas fa-edit"></i> Editar
                        </button>
                        <button class="btn-acao btn-excluir" data-id="${partido.id}">
                            <i class="fas fa-trash"></i> Excluir
                        </button>
                    </div>
                    ` : ''}
                `;
                
                lista.appendChild(card);
            });
            
            // Atualizar totais no painel
            if (document.getElementById('total-partidos')) {
                document.getElementById('total-partidos').textContent = partidosAtivos.length;
                
                // Calcular total de cadeiras
                const totalCadeiras = partidosAtivos.reduce((total, partido) => total + (partido.cadeiras || 0), 0);
                document.getElementById('total-cadeiras').textContent = totalCadeiras;
                
                // Atualizar totais de parlamentares e projetos
                document.getElementById('total-parlamentares').textContent = dadosParlamentares.length;
                document.getElementById('total-projetos').textContent = dadosProjetos.length;
            }
            
            // Adicionar eventos aos botões
            if (usuarioLogado && perfilAtual === 'dono') {
                document.querySelectorAll('.btn-editar').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        const partido = dadosPartidos.find(p => p.id === id);
                        mostrarModalEditarPartido(partido);
                    });
                });
                
                document.querySelectorAll('.btn-excluir').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        if (confirm('Tem certeza que deseja excluir este partido? Esta ação não pode ser desfeita.')) {
                            excluirPartido(id);
                        }
                    });
                });
            }
        }

        function atualizarFiltrosPartidos() {
            const selectPartidos = document.getElementById('filtro-partido');
            const selectProjetoPartidos = document.getElementById('filtro-projeto-partido');
            
            // Limpar opções existentes (exceto a primeira)
            while (selectPartidos.options.length > 1) {
                selectPartidos.remove(1);
            }
            
            while (selectProjetoPartidos.options.length > 1) {
                selectProjetoPartidos.remove(1);
            }
            
            // Adicionar opções para cada partido ativo
            dadosPartidos.filter(p => p.ativo !== false).forEach(partido => {
                const option = document.createElement('option');
                option.value = partido.sigla;
                option.textContent = `${partido.sigla} - ${partido.nome}`;
                selectPartidos.appendChild(option.cloneNode(true));
                selectProjetoPartidos.appendChild(option);
            });
        }

        function atualizarGraficoCadeiras() {
            // Calcular totais por ideologia
            const partidosAtivos = dadosPartidos.filter(p => p.ativo !== false);
            
            const direita = partidosAtivos
                .filter(p => p.ideologia === 'direita')
                .reduce((total, p) => total + (p.cadeiras || 0), 0);
                
            const centro = partidosAtivos
                .filter(p => p.ideologia === 'centro')
                .reduce((total, p) => total + (p.cadeiras || 0), 0);
                
            const esquerda = partidosAtivos
                .filter(p => p.ideologia === 'esquerda')
                .reduce((total, p) => total + (p.cadeiras || 0), 0);
            
            // Atualizar gráfico
            if (window.graficoCadeiras) {
                window.graficoCadeiras.data.datasets[0].data = [direita, centro, esquerda];
                window.graficoCadeiras.update();
            }
        }

        // ===== FUNÇÕES DE FILTRO =====
        function aplicarFiltrosParlamentares() {
            const cargo = document.getElementById('filtro-cargo').value;
            const partido = document.getElementById('filtro-partido').value;
            const status = document.getElementById('filtro-status').value;
            const nome = document.getElementById('filtro-nome').value.toLowerCase();
            const legislatura = document.getElementById('filtro-legislatura').value;
            
            let parlamentaresFiltrados = dadosParlamentares;
            
            // Aplicar filtros
            if (cargo !== 'todos') {
                parlamentaresFiltrados = parlamentaresFiltrados.filter(p => {
                    if (cargo === 'senador') return p.cargo === 'Senador';
                    if (cargo === 'deputado-federal') return p.cargo === 'Deputado Federal';
                    if (cargo === 'deputado-estadual') return p.cargo === 'Deputado Estadual';
                    return true;
                });
            }
            
            if (partido !== 'todos') {
                parlamentaresFiltrados = parlamentaresFiltrados.filter(p => p.partido === partido);
            }
            
            if (status !== 'todos') {
                parlamentaresFiltrados = parlamentaresFiltrados.filter(p => {
                    if (status === 'ativo') return p.status === 'Em exercício';
                    if (status === 'afastado') return p.status === 'Afastado';
                    if (status === 'ex') return p.status === 'Ex-parlamentar';
                    return true;
                });
            }
            
            if (nome) {
                parlamentaresFiltrados = parlamentaresFiltrados.filter(p => 
                    p.nome.toLowerCase().includes(nome)
                );
            }
            
            if (legislatura !== 'todos') {
                parlamentaresFiltrados = parlamentaresFiltrados.filter(p => p.legislatura === legislatura);
            }
            
            // Atualizar lista
            atualizarListaParlamentares(parlamentaresFiltrados);
        }

        function aplicarFiltrosProjetos() {
            const status = document.getElementById('filtro-projeto-status').value;
            const partido = document.getElementById('filtro-projeto-partido').value;
            const ano = document.getElementById('filtro-projeto-ano').value;
            const autor = document.getElementById('filtro-projeto-autor').value.toLowerCase();
            const titulo = document.getElementById('filtro-projeto-titulo').value.toLowerCase();
            
            let projetosFiltrados = dadosProjetos;
            
            // Aplicar filtros
            if (status !== 'todos') {
                projetosFiltrados = projetosFiltrados.filter(p => {
                    if (status === 'tramitacao') return p.status === 'Em tramitação';
                    if (status === 'aprovado') return p.status === 'Aprovado';
                    if (status === 'derrubado') return p.status === 'Derrubado';
                    if (status === 'arquivado') return p.status === 'Arquivado';
                    return true;
                });
            }
            
            if (partido !== 'todos') {
                projetosFiltrados = projetosFiltrados.filter(p => p.partido === partido);
            }
            
            if (ano !== 'todos') {
                projetosFiltrados = projetosFiltrados.filter(p => {
                    const anoProjeto = p.data ? p.data.substring(0, 4) : '';
                    return anoProjeto === ano;
                });
            }
            
            if (autor) {
                projetosFiltrados = projetosFiltrados.filter(p => 
                    p.autor.toLowerCase().includes(autor)
                );
            }
            
            if (titulo) {
                projetosFiltrados = projetosFiltrados.filter(p => 
                    p.titulo.toLowerCase().includes(titulo)
                );
            }
            
            // Atualizar lista
            atualizarListaProjetos(projetosFiltrados);
        }

        // ===== FUNÇÕES DE LOGIN =====
        function mostrarModalLogin() {
            document.getElementById('modal-login').classList.add('ativo');
        }

        function fecharModalLogin() {
            document.getElementById('modal-login').classList.remove('ativo');
            document.getElementById('login-mensagem').classList.add('hidden');
            document.getElementById('login-mensagem').textContent = '';
        }

        function fazerLogin() {
            const perfilSelecionado = document.querySelector('.login-opcao[style*="border-color"]');
            const senha = document.getElementById('modal-login-senha').value;
            const mensagem = document.getElementById('login-mensagem');
            
            if (!perfilSelecionado) {
                mensagem.textContent = 'Selecione um perfil de acesso.';
                mensagem.classList.remove('hidden');
                return;
            }
            
            if (!senha) {
                mensagem.textContent = 'Digite a senha de acesso.';
                mensagem.classList.remove('hidden');
                return;
            }
            
            const perfil = perfilSelecionado.getAttribute('data-perfil');
            
            // Em um sistema real, aqui seria feita a autenticação com Firebase
            // Para este exemplo, usaremos senhas fixas
            let senhaCorreta = '';
            
            switch(perfil) {
                case 'dono': senhaCorreta = 'admin123'; break;
                case 'presidente-senado': senhaCorreta = 'senado2026'; break;
                case 'presidente-assembleia': senhaCorreta = 'assembleia2026'; break;
            }
            
            if (senha === senhaCorreta) {
                usuarioLogado = true;
                perfilAtual = perfil;
                
                // Registrar log
                registrarLog('login', `Login realizado como ${perfil}`);
                
                // Fechar modal
                fecharModalLogin();
                
                // Atualizar interface para o perfil logado
                atualizarInterfaceAposLogin();
                
                // Mostrar painel correspondente
                mostrarSecao('painel');
            } else {
                mensagem.textContent = 'Senha incorreta. Tente novamente.';
                mensagem.classList.remove('hidden');
            }
        }

        function fazerLoginPainel() {
            // Similar à função fazerLogin, mas para o painel na página
            const perfilSelecionado = document.querySelector('.login-opcao[style*="border-color"]');
            const senha = document.getElementById('login-senha').value;
            
            if (!perfilSelecionado || !senha) {
                alert('Selecione um perfil e digite a senha.');
                return;
            }
            
            const perfil = perfilSelecionado.getAttribute('data-perfil');
            
            let senhaCorreta = '';
            
            switch(perfil) {
                case 'dono': senhaCorreta = 'admin123'; break;
                case 'presidente-senado': senhaCorreta = 'senado2026'; break;
                case 'presidente-assembleia': senhaCorreta = 'assembleia2026'; break;
            }
            
            if (senha === senhaCorreta) {
                usuarioLogado = true;
                perfilAtual = perfil;
                
                // Registrar log
                registrarLog('login', `Login realizado como ${perfil}`);
                
                // Atualizar interface para o perfil logado
                atualizarInterfaceAposLogin();
            } else {
                alert('Senha incorreta. Tente novamente.');
            }
        }

        function atualizarInterfaceAposLogin() {
            // Ocultar formulário de login
            document.getElementById('painel-visitante').classList.add('hidden');
            
            // Mostrar painel correspondente
            if (perfilAtual === 'dono') {
                document.getElementById('painel-dono').classList.remove('hidden');
                configurarPainelDono();
            } else if (perfilAtual === 'presidente-senado') {
                document.getElementById('painel-presidente-senado').classList.remove('hidden');
                configurarPainelSenado();
            } else if (perfilAtual === 'presidente-assembleia') {
                document.getElementById('painel-presidente-assembleia').classList.remove('hidden');
                configurarPainelAssembleia();
            }
            
            // Atualizar botão de login no header
            const btnLogin = document.getElementById('btn-login');
            btnLogin.innerHTML = `<i class="fas fa-user"></i><span>${perfilAtual === 'dono' ? 'Dono do RP' : perfilAtual === 'presidente-senado' ? 'Pres. Senado' : 'Pres. Assembleia'}</span>`;
            btnLogin.style.backgroundColor = 'var(--azul-gabao)';
            
            // Atualizar outras partes da interface
            atualizarListaParlamentares();
            atualizarListaProjetos();
            atualizarListaPartidos();
        }

        function configurarPainelDono() {
            // Configurar eventos do painel do dono
            document.querySelectorAll('.painel-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const painel = this.getAttribute('data-painel');
                    
                    // Atualizar menu ativo
                    document.querySelectorAll('.painel-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mostrar seção correspondente
                    document.querySelectorAll('.painel-secao').forEach(s => s.classList.remove('ativa'));
                    document.getElementById(painel).classList.add('ativa');
                });
            });
            
            // Configurar botão de sair
            document.getElementById('btn-sair-painel').addEventListener('click', sairDoPainel);
            
            // Configurar botões de ação rápida
            document.getElementById('btn-adicionar-parlamentar').addEventListener('click', function() {
                mostrarModalNovoParlamentar();
            });
            
            document.getElementById('btn-adicionar-projeto').addEventListener('click', function() {
                mostrarModalNovoProjeto();
            });
            
            // Carregar dados na tabela de parlamentares
            atualizarTabelaParlamentares();
        }

        function configurarPainelSenado() {
            // Configurar eventos do painel do senado
            document.querySelectorAll('.painel-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const painel = this.getAttribute('data-painel');
                    
                    // Atualizar menu ativo
                    document.querySelectorAll('.painel-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mostrar seção correspondente
                    document.querySelectorAll('.painel-secao').forEach(s => s.classList.remove('ativa'));
                    const elemento = document.getElementById(painel);
                    if (elemento) elemento.classList.add('ativa');
                });
            });
            
            // Configurar botão de sair
            document.getElementById('btn-sair-senado').addEventListener('click', sairDoPainel);
            
            // Atualizar contadores do senado
            atualizarContadoresSenado();
        }

        function configurarPainelAssembleia() {
            // Configurar eventos do painel da assembleia
            document.querySelectorAll('.painel-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const painel = this.getAttribute('data-painel');
                    
                    // Atualizar menu ativo
                    document.querySelectorAll('.painel-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mostrar seção correspondente
                    document.querySelectorAll('.painel-secao').forEach(s => s.classList.remove('ativa'));
                    const elemento = document.getElementById(painel);
                    if (elemento) elemento.classList.add('ativa');
                });
            });
            
            // Configurar botão de sair
            document.getElementById('btn-sair-assembleia').addEventListener('click', sairDoPainel);
            
            // Atualizar contadores da assembleia
            atualizarContadoresAssembleia();
        }

        function atualizarTabelaParlamentares() {
            const tbody = document.querySelector('#tabela-parlamentares tbody');
            tbody.innerHTML = '';
            
            dadosParlamentares.forEach(parlamentar => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${parlamentar.nome}</td>
                    <td>${parlamentar.cargo}</td>
                    <td>${parlamentar.partido}</td>
                    <td><span class="${parlamentar.status === 'Em exercício' ? 'status-ativo' : 'status-inativo'}">${parlamentar.status}</span></td>
                    <td>
                        <button class="btn-acao btn-editar" data-id="${parlamentar.id}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-acao btn-excluir" data-id="${parlamentar.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
            
            // Adicionar eventos
            document.querySelectorAll('#tabela-parlamentares .btn-editar').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const parlamentar = dadosParlamentares.find(p => p.id === id);
                    mostrarModalEditarParlamentar(parlamentar);
                });
            });
            
            document.querySelectorAll('#tabela-parlamentares .btn-excluir').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    if (confirm('Tem certeza que deseja excluir este parlamentar? Esta ação não pode ser desfeita.')) {
                        excluirParlamentar(id);
                    }
                });
            });
        }

        function atualizarContadoresSenado() {
            // Contar senadores
            const totalSenadores = dadosParlamentares.filter(p => p.cargo === 'Senador').length;
            document.getElementById('total-senadores').textContent = totalSenadores;
            
            // Contar projetos do senado em tramitação
            const projetosSenado = dadosProjetos.filter(p => 
                p.cargoAutor === 'Senador' && p.status === 'Em tramitação'
            ).length;
            document.getElementById('projetos-senado-tramitacao').textContent = projetosSenado;
            
            // Outros contadores (simulados)
            document.getElementById('justificativas-pendentes').textContent = '3';
            document.getElementById('sessoes-mes').textContent = '8';
        }

        function atualizarContadoresAssembleia() {
            // Contar deputados federais
            const totalDeputadosFederais = dadosParlamentares.filter(p => p.cargo === 'Deputado Federal').length;
            document.getElementById('total-deputados-federais').textContent = totalDeputadosFederais;
            
            // Contar deputados estaduais
            const totalDeputadosEstaduais = dadosParlamentares.filter(p => p.cargo === 'Deputado Estadual').length;
            document.getElementById('total-deputados-estaduais').textContent = totalDeputadosEstaduais;
            
            // Contar projetos da assembleia em tramitação
            const projetosAssembleia = dadosProjetos.filter(p => 
                (p.cargoAutor === 'Deputado Federal' || p.cargoAutor === 'Deputado Estadual') && 
                p.status === 'Em tramitação'
            ).length;
            document.getElementById('projetos-assembleia-tramitacao').textContent = projetosAssembleia;
            
            // Outros contadores (simulados)
            document.getElementById('votacoes-mes').textContent = '12';
        }

        function sairDoPainel() {
            usuarioLogado = false;
            perfilAtual = null;
            
            // Registrar log
            registrarLog('logout', 'Logout realizado');
            
            // Restaurar interface de visitante
            document.getElementById('painel-visitante').classList.remove('hidden');
            document.getElementById('painel-dono').classList.add('hidden');
            document.getElementById('painel-presidente-senado').classList.add('hidden');
            document.getElementById('painel-presidente-assembleia').classList.add('hidden');
            
            // Restaurar botão de login no header
            const btnLogin = document.getElementById('btn-login');
            btnLogin.innerHTML = `<i class="fas fa-sign-in-alt"></i><span>Entrar</span>`;
            btnLogin.style.backgroundColor = 'var(--verde-gabao)';
            
            // Atualizar outras partes da interface
            atualizarListaParlamentares();
            atualizarListaProjetos();
            atualizarListaPartidos();
        }

        // ===== FUNÇÕES DA IA LEGISLATIVA =====
        function enviarMensagemIA() {
            const input = document.getElementById('ia-input');
            const mensagem = input.value.trim();
            
            if (!mensagem) return;
            
            // Adicionar mensagem do usuário
            adicionarMensagemIA(mensagem, 'usuario');
            
            // Limpar input
            input.value = '';
            
            // Simular processamento
            setTimeout(() => {
                const resposta = gerarRespostaIA(mensagem);
                adicionarMensagemIA(resposta, 'ia');
            }, 1000);
        }

        function adicionarMensagemIA(texto, autor) {
            const mensagensDiv = document.getElementById('ia-mensagens');
            
            const mensagemDiv = document.createElement('div');
            mensagemDiv.className = `ia-mensagem ${autor}`;
            
            const agora = new Date();
            const hora = `${agora.getHours().toString().padStart(2, '0')}:${agora.getMinutes().toString().padStart(2, '0')}`;
            
            mensagemDiv.innerHTML = `
                <div class="ia-mensagem-cabecalho">
                    <span class="ia-mensagem-autor">${autor === 'usuario' ? 'Você' : 'IA Legislativa'}</span>
                    <span class="ia-mensagem-hora">${hora}</span>
                </div>
                <div class="ia-mensagem-conteudo">
                    ${texto}
                </div>
            `;
            
            mensagensDiv.appendChild(mensagemDiv);
            
            // Scroll para a última mensagem
            mensagensDiv.scrollTop = mensagensDiv.scrollHeight;
        }

        function gerarRespostaIA(mensagem) {
            const mensagemLower = mensagem.toLowerCase();
            
            // Respostas pré-definidas baseadas em palavras-chave
            if (mensagemLower.includes('olá') || mensagemLower.includes('oi') || mensagemLower.includes('bom dia') || mensagemLower.includes('boa tarde') || mensagemLower.includes('boa noite')) {
                return "Olá! Como posso ajudá-lo hoje com questões legislativas de Brookasil?";
            }
            
            if (mensagemLower.includes('brookasil') || mensagemLower.includes('cde') || mensagemLower.includes('cidade eleitoral')) {
                return "Brookasil é uma nação soberana localizada na Cidade Eleitoral (CDE). Seu Poder Legislativo é bicameral, composto pelo Senado Federal (câmara alta) e pela Assembleia Geral (câmara baixa). O sistema atual foi estabelecido em 2026.";
            }
            
            if (mensagemLower.includes('senado') || mensagemLower.includes('câmara alta')) {
                return "O Senado Federal é a câmara alta do Poder Legislativo de Brookasil. É composto por senadores eleitos para mandatos de 4 anos. O Presidente do Senado é responsável por administrar esta casa legislativa.";
            }
            
            if (mensagemLower.includes('assembleia geral') || mensagemLower.includes('câmara baixa') || mensagemLower.includes('deputado')) {
                return "A Assembleia Geral é a câmara baixa do Poder Legislativo de Brookasil. É composta por deputados federais e estaduais. O Presidente da Assembleia Geral administra esta casa legislativa.";
            }
            
            if (mensagemLower.includes('projeto de lei') || mensagemLower.includes('lei') || mensagemLower.includes('legislação')) {
                return "Projetos de Lei no sistema de Brookasil são numerados automaticamente no formato PL-XXXX/ANO. Eles podem ser apresentados por qualquer parlamentar e passam por tramitação que inclui análise, discussão e votação. O status pode ser: Em tramitação, Aprovado, Derrubado ou Arquivado.";
            }
            
            if (mensagemLower.includes('partido') || mensagemLower.includes('bancada') || mensagemLower.includes('ideologia')) {
                return "Os partidos políticos em Brookasil são classificados por ideologia: Direita, Centro ou Esquerda. Cada partido possui um número único e sigla. O sistema permite a criação e gestão completa de partidos políticos.";
            }
            
            if (mensagemLower.includes('parlamentar') || mensagemLower.includes('senador') || mensagemLower.includes('deputado')) {
                return "Os parlamentares de Brookasil incluem Senadores, Deputados Federais e Deputados Estaduais. Cada um possui ficha completa com nome, partido, número do partido, cargo, status (Em exercício, Afastado, Ex-parlamentar), mandato e legislatura.";
            }
            
            if (mensagemLower.includes('como funciona') || mensagemLower.includes('procedimento') || mensagemLower.includes('tramitação')) {
                return "O procedimento legislativo em Brookasil inicia com a apresentação do projeto, segue para análise em comissões, depois para discussão e votação nas respectivas casas. Projetos aprovados seguem para sanção. O sistema permite acompanhar todo esse processo.";
            }
            
            if (mensagemLower.includes('2026') || mensagemLower.includes('legislatura')) {
                return "A legislatura 2026-2030 é a atual do Poder Legislativo de Brookasil. Foi inaugurada em janeiro de 2026 com a posse de todos os parlamentares eleitos. Esta legislatura tem foco na modernização do sistema legislativo.";
            }
            
            if (mensagemLower.includes('palácio do esplendor') || mensagemLower.includes('sede')) {
                return "O Palácio do Esplendor é a sede oficial do Poder Legislativo de Brookasil, localizada na Cidade Eleitoral (CDE). É onde ocorrem as sessões legislativas e atividades administrativas do sistema.";
            }
            
            // Resposta padrão
            return "Entendi sua pergunta. Como IA Legislativa especializada em Brookasil, posso explicar leis, procedimentos legislativos, ajudar parlamentares com regras e prazos, fornecer informações institucionais sobre Brookasil e CDE, e detectar inconsistências em projetos. Poderia reformular sua pergunta ou ser mais específico sobre qual aspecto do sistema legislativo você gostaria de saber?";
        }

        // ===== FUNÇÕES DE MODAL =====
        function mostrarModal(titulo, conteudo) {
            document.getElementById('modal-titulo').textContent = titulo;
            document.getElementById('modal-conteudo').innerHTML = conteudo;
            document.getElementById('modal-generico').classList.add('ativo');
        }

        function fecharModal() {
            document.getElementById('modal-generico').classList.remove('ativo');
        }

        function mostrarModalDetalhesParlamentar(parlamentar) {
            const conteudo = `
                <div style="display: flex; gap: 2rem; margin-bottom: 2rem;">
                    <div style="width: 150px; height: 150px; background-color: var(--cinza-medio); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: var(--cinza-escuro);">
                        ${parlamentar.foto ? `<img src="${parlamentar.foto}" alt="${parlamentar.nome}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">` : 
                        '<i class="fas fa-user"></i>'}
                    </div>
                    <div style="flex: 1;">
                        <h4 style="margin-bottom: 0.5rem;">${parlamentar.nome}</h4>
                        <p style="color: var(--cinza-escuro); margin-bottom: 1rem;">${parlamentar.cargo} • ${parlamentar.partido} - ${parlamentar.numeroPartido}</p>
                        <p><strong>Status:</strong> <span class="${parlamentar.status === 'Em exercício' ? 'status-ativo' : 'status-inativo'}">${parlamentar.status}</span></p>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 2rem;">
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Legislatura</label>
                        <div style="font-weight: 600;">${parlamentar.legislatura}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Mandato Início</label>
                        <div style="font-weight: 600;">${formatarData(parlamentar.mandatoInicio)}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Mandato Fim</label>
                        <div style="font-weight: 600;">${formatarData(parlamentar.mandatoFim)}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Partido</label>
                        <div style="font-weight: 600;">${parlamentar.partido} (Nº ${parlamentar.numeroPartido})</div>
                    </div>
                </div>
                
                ${usuarioLogado ? `
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="btn-acao btn-editar" id="modal-btn-editar" style="flex: 1;">
                        <i class="fas fa-edit"></i> Editar Parlamentar
                    </button>
                    ${perfilAtual === 'dono' ? `
                    <button class="btn-acao btn-excluir" id="modal-btn-excluir" style="flex: 1;">
                        <i class="fas fa-trash"></i> Excluir Parlamentar
                    </button>
                    ` : ''}
                </div>
                ` : ''}
            `;
            
            mostrarModal(`Detalhes do Parlamentar: ${parlamentar.nome}`, conteudo);
            
            // Adicionar eventos aos botões
            if (usuarioLogado) {
                document.getElementById('modal-btn-editar').addEventListener('click', function() {
                    fecharModal();
                    mostrarModalEditarParlamentar(parlamentar);
                });
                
                if (perfilAtual === 'dono') {
                    document.getElementById('modal-btn-excluir').addEventListener('click', function() {
                        if (confirm('Tem certeza que deseja excluir este parlamentar? Esta ação não pode ser desfeita.')) {
                            excluirParlamentar(parlamentar.id);
                            fecharModal();
                        }
                    });
                }
            }
        }

        function mostrarModalEditarParlamentar(parlamentar) {
            const conteudo = `
                <form id="form-editar-parlamentar">
                    <div class="form-group">
                        <label for="editar-nome">Nome Completo</label>
                        <input type="text" id="editar-nome" value="${parlamentar.nome}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-cargo">Cargo</label>
                        <select id="editar-cargo" required>
                            <option value="Senador" ${parlamentar.cargo === 'Senador' ? 'selected' : ''}>Senador</option>
                            <option value="Deputado Federal" ${parlamentar.cargo === 'Deputado Federal' ? 'selected' : ''}>Deputado Federal</option>
                            <option value="Deputado Estadual" ${parlamentar.cargo === 'Deputado Estadual' ? 'selected' : ''}>Deputado Estadual</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-partido">Partido</label>
                        <select id="editar-partido" required>
                            <option value="">Selecione um partido</option>
                            ${dadosPartidos.filter(p => p.ativo !== false).map(p => 
                                `<option value="${p.sigla}" ${parlamentar.partido === p.sigla ? 'selected' : ''}>${p.sigla} - ${p.nome}</option>`
                            ).join('')}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-numero-partido">Número do Partido</label>
                        <input type="number" id="editar-numero-partido" value="${parlamentar.numeroPartido}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-status">Status</label>
                        <select id="editar-status" required>
                            <option value="Em exercício" ${parlamentar.status === 'Em exercício' ? 'selected' : ''}>Em exercício</option>
                            <option value="Afastado" ${parlamentar.status === 'Afastado' ? 'selected' : ''}>Afastado</option>
                            <option value="Ex-parlamentar" ${parlamentar.status === 'Ex-parlamentar' ? 'selected' : ''}>Ex-parlamentar</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-mandato-inicio">Mandato Início</label>
                        <input type="date" id="editar-mandato-inicio" value="${parlamentar.mandatoInicio}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-mandato-fim">Mandato Fim</label>
                        <input type="date" id="editar-mandato-fim" value="${parlamentar.mandatoFim}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-legislatura">Legislatura</label>
                        <select id="editar-legislatura" required>
                            <option value="2026-2030" ${parlamentar.legislatura === '2026-2030' ? 'selected' : ''}>2026-2030</option>
                            <option value="2022-2026" ${parlamentar.legislatura === '2022-2026' ? 'selected' : ''}>2022-2026</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-foto">URL da Foto (opcional)</label>
                        <input type="text" id="editar-foto" value="${parlamentar.foto || ''}" placeholder="https://exemplo.com/foto.jpg">
                    </div>
                    
                    <input type="hidden" id="editar-id" value="${parlamentar.id}">
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-salvar" style="flex: 1;">
                            <i class="fas fa-save"></i> Salvar Alterações
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal(`Editar Parlamentar: ${parlamentar.nome}`, conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-salvar').addEventListener('click', function() {
                salvarEdicaoParlamentar();
            });
            
            document.getElementById('modal-btn-cancelar').addEventListener('click', fecharModal);
        }

        function mostrarModalNovoParlamentar() {
            const conteudo = `
                <form id="form-novo-parlamentar">
                    <div class="form-group">
                        <label for="novo-nome">Nome Completo</label>
                        <input type="text" id="novo-nome" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-cargo">Cargo</label>
                        <select id="novo-cargo" required>
                            <option value="">Selecione um cargo</option>
                            <option value="Senador">Senador</option>
                            <option value="Deputado Federal">Deputado Federal</option>
                            <option value="Deputado Estadual">Deputado Estadual</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-partido">Partido</label>
                        <select id="novo-partido" required>
                            <option value="">Selecione um partido</option>
                            ${dadosPartidos.filter(p => p.ativo !== false).map(p => 
                                `<option value="${p.sigla}">${p.sigla} - ${p.nome}</option>`
                            ).join('')}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-numero-partido">Número do Partido</label>
                        <input type="number" id="novo-numero-partido" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-status">Status</label>
                        <select id="novo-status" required>
                            <option value="Em exercício">Em exercício</option>
                            <option value="Afastado">Afastado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-mandato-inicio">Mandato Início</label>
                        <input type="date" id="novo-mandato-inicio" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-mandato-fim">Mandato Fim</label>
                        <input type="date" id="novo-mandato-fim" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-legislatura">Legislatura</label>
                        <select id="novo-legislatura" required>
                            <option value="2026-2030">2026-2030</option>
                            <option value="2022-2026">2022-2026</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-foto">URL da Foto (opcional)</label>
                        <input type="text" id="novo-foto" placeholder="https://exemplo.com/foto.jpg">
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-criar" style="flex: 1;">
                            <i class="fas fa-plus"></i> Criar Parlamentar
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-novo">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal('Adicionar Novo Parlamentar', conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-criar').addEventListener('click', function() {
                criarNovoParlamentar();
            });
            
            document.getElementById('modal-btn-cancelar-novo').addEventListener('click', fecharModal);
            
            // Definir data padrão para hoje
            const hoje = new Date().toISOString().split('T')[0];
            document.getElementById('novo-mandato-inicio').value = hoje;
            
            // Definir data de fim como 4 anos depois
            const fim = new Date();
            fim.setFullYear(fim.getFullYear() + 4);
            document.getElementById('novo-mandato-fim').value = fim.toISOString().split('T')[0];
        }

        function mostrarModalDetalhesProjeto(projeto) {
            const conteudo = `
                <div style="margin-bottom: 2rem;">
                    <h4 style="margin-bottom: 0.5rem; color: var(--verde-gabao);">${projeto.numero}</h4>
                    <h3 style="margin-bottom: 1rem;">${projeto.titulo}</h3>
                    <p style="color: var(--cinza-escuro); line-height: 1.7;">${projeto.descricao}</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 2rem;">
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Autor</label>
                        <div style="font-weight: 600;">${projeto.autor}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Cargo do Autor</label>
                        <div style="font-weight: 600;">${projeto.cargoAutor}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Partido</label>
                        <div style="font-weight: 600;">${projeto.partido}</div>
                    </div>
                    <div>
                        <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Data</label>
                        <div style="font-weight: 600;">${formatarData(projeto.data)}</div>
                    </div>
                </div>
                
                <div>
                    <label style="display: block; color: var(--cinza-escuro); margin-bottom: 0.3rem;">Status</label>
                    <div class="projeto-status status-${projeto.status.toLowerCase().replace(' ', '-')}" style="display: inline-block;">
                        ${projeto.status}
                    </div>
                </div>
                
                ${usuarioLogado ? `
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="btn-acao btn-editar" id="modal-btn-editar-projeto" style="flex: 1;">
                        <i class="fas fa-edit"></i> Editar Projeto
                    </button>
                </div>
                ` : ''}
            `;
            
            mostrarModal(`Detalhes do Projeto: ${projeto.numero}`, conteudo);
            
            // Adicionar eventos aos botões
            if (usuarioLogado) {
                document.getElementById('modal-btn-editar-projeto').addEventListener('click', function() {
                    fecharModal();
                    mostrarModalEditarProjeto(projeto);
                });
            }
        }

        function mostrarModalEditarProjeto(projeto) {
            const conteudo = `
                <form id="form-editar-projeto">
                    <div class="form-group">
                        <label for="editar-projeto-titulo">Título</label>
                        <input type="text" id="editar-projeto-titulo" value="${projeto.titulo}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-descricao">Descrição</label>
                        <textarea id="editar-projeto-descricao" required>${projeto.descricao}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-autor">Autor</label>
                        <input type="text" id="editar-projeto-autor" value="${projeto.autor}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-cargo">Cargo do Autor</label>
                        <select id="editar-projeto-cargo" required>
                            <option value="Senador" ${projeto.cargoAutor === 'Senador' ? 'selected' : ''}>Senador</option>
                            <option value="Deputado Federal" ${projeto.cargoAutor === 'Deputado Federal' ? 'selected' : ''}>Deputado Federal</option>
                            <option value="Deputado Estadual" ${projeto.cargoAutor === 'Deputado Estadual' ? 'selected' : ''}>Deputado Estadual</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-partido">Partido</label>
                        <select id="editar-projeto-partido" required>
                            <option value="">Selecione um partido</option>
                            ${dadosPartidos.filter(p => p.ativo !== false).map(p => 
                                `<option value="${p.sigla}" ${projeto.partido === p.sigla ? 'selected' : ''}>${p.sigla} - ${p.nome}</option>`
                            ).join('')}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-status">Status</label>
                        <select id="editar-projeto-status" required>
                            <option value="Em tramitação" ${projeto.status === 'Em tramitação' ? 'selected' : ''}>Em tramitação</option>
                            <option value="Aprovado" ${projeto.status === 'Aprovado' ? 'selected' : ''}>Aprovado</option>
                            <option value="Derrubado" ${projeto.status === 'Derrubado' ? 'selected' : ''}>Derrubado</option>
                            <option value="Arquivado" ${projeto.status === 'Arquivado' ? 'selected' : ''}>Arquivado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-projeto-data">Data</label>
                        <input type="date" id="editar-projeto-data" value="${projeto.data}" required>
                    </div>
                    
                    <input type="hidden" id="editar-projeto-id" value="${projeto.id}">
                    <input type="hidden" id="editar-projeto-numero" value="${projeto.numero}">
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-salvar-projeto" style="flex: 1;">
                            <i class="fas fa-save"></i> Salvar Alterações
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-projeto">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal(`Editar Projeto: ${projeto.numero}`, conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-salvar-projeto').addEventListener('click', function() {
                salvarEdicaoProjeto();
            });
            
            document.getElementById('modal-btn-cancelar-projeto').addEventListener('click', fecharModal);
        }

        function mostrarModalNovoProjeto() {
            // Gerar próximo número de projeto
            const anoAtual = new Date().getFullYear();
            const projetosAno = dadosProjetos.filter(p => p.numero && p.numero.includes(`/${anoAtual}`));
            const proximoNumero = (projetosAno.length + 1).toString().padStart(4, '0');
            const numeroProjeto = `PL-${proximoNumero}/${anoAtual}`;
            
            const conteudo = `
                <form id="form-novo-projeto">
                    <div class="form-group">
                        <label for="novo-projeto-numero">Número do Projeto</label>
                        <input type="text" id="novo-projeto-numero" value="${numeroProjeto}" readonly style="background-color: var(--cinza-medio);">
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-titulo">Título</label>
                        <input type="text" id="novo-projeto-titulo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-descricao">Descrição</label>
                        <textarea id="novo-projeto-descricao" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-autor">Autor</label>
                        <select id="novo-projeto-autor" required>
                            <option value="">Selecione um parlamentar</option>
                            ${dadosParlamentares.map(p => 
                                `<option value="${p.nome}">${p.nome} (${p.cargo} - ${p.partido})</option>`
                            ).join('')}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-cargo">Cargo do Autor</label>
                        <select id="novo-projeto-cargo" required>
                            <option value="">Selecione um cargo</option>
                            <option value="Senador">Senador</option>
                            <option value="Deputado Federal">Deputado Federal</option>
                            <option value="Deputado Estadual">Deputado Estadual</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-partido">Partido</label>
                        <select id="novo-projeto-partido" required>
                            <option value="">Selecione um partido</option>
                            ${dadosPartidos.filter(p => p.ativo !== false).map(p => 
                                `<option value="${p.sigla}">${p.sigla} - ${p.nome}</option>`
                            ).join('')}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-status">Status</label>
                        <select id="novo-projeto-status" required>
                            <option value="Em tramitação">Em tramitação</option>
                            <option value="Aprovado">Aprovado</option>
                            <option value="Derrubado">Derrubado</option>
                            <option value="Arquivado">Arquivado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-projeto-data">Data</label>
                        <input type="date" id="novo-projeto-data" value="${new Date().toISOString().split('T')[0]}" required>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-criar-projeto" style="flex: 1;">
                            <i class="fas fa-plus"></i> Criar Projeto
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-projeto-novo">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal('Criar Novo Projeto de Lei', conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-criar-projeto').addEventListener('click', function() {
                criarNovoProjeto();
            });
            
            document.getElementById('modal-btn-cancelar-projeto-novo').addEventListener('click', fecharModal);
            
            // Configurar autor para preencher automaticamente cargo e partido
            document.getElementById('novo-projeto-autor').addEventListener('change', function() {
                const nomeAutor = this.value;
                const parlamentar = dadosParlamentares.find(p => p.nome === nomeAutor);
                
                if (parlamentar) {
                    document.getElementById('novo-projeto-cargo').value = parlamentar.cargo;
                    document.getElementById('novo-projeto-partido').value = parlamentar.partido;
                }
            });
        }

        function mostrarModalNovoPartido() {
            // Verificar se o usuário tem permissão (apenas dono do RP)
            if (!usuarioLogado || perfilAtual !== 'dono') {
                alert('Apenas o Dono do RP pode adicionar novos partidos.');
                return;
            }
            
            const conteudo = `
                <form id="form-novo-partido">
                    <div class="form-group">
                        <label for="novo-partido-nome">Nome do Partido</label>
                        <input type="text" id="novo-partido-nome" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-partido-sigla">Sigla</label>
                        <input type="text" id="novo-partido-sigla" maxlength="10" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-partido-numero">Número (único)</label>
                        <input type="number" id="novo-partido-numero" required>
                        <small style="color: var(--cinza-escuro);">Este número não pode ser repetido em outros partidos.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-partido-ideologia">Ideologia</label>
                        <select id="novo-partido-ideologia" required>
                            <option value="">Selecione uma ideologia</option>
                            <option value="direita">Direita</option>
                            <option value="centro">Centro</option>
                            <option value="esquerda">Esquerda</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="novo-partido-cadeiras">Cadeiras Ocupadas</label>
                        <input type="number" id="novo-partido-cadeiras" value="0" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="novo-partido-ficticio"> Partido Fictício
                        </label>
                        <small style="color: var(--cinza-escuro); display: block;">Marque esta opção se o partido for fictício (não existe na realidade).</small>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-criar-partido" style="flex: 1;">
                            <i class="fas fa-plus"></i> Criar Partido
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-partido">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal('Adicionar Novo Partido', conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-criar-partido').addEventListener('click', function() {
                criarNovoPartido();
            });
            
            document.getElementById('modal-btn-cancelar-partido').addEventListener('click', fecharModal);
        }

        function mostrarModalEditarPartido(partido) {
            const conteudo = `
                <form id="form-editar-partido">
                    <div class="form-group">
                        <label for="editar-partido-nome">Nome do Partido</label>
                        <input type="text" id="editar-partido-nome" value="${partido.nome}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-partido-sigla">Sigla</label>
                        <input type="text" id="editar-partido-sigla" maxlength="10" value="${partido.sigla}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-partido-numero">Número (único)</label>
                        <input type="number" id="editar-partido-numero" value="${partido.numero}" required>
                        <small style="color: var(--cinza-escuro);">Este número não pode ser repetido em outros partidos.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-partido-ideologia">Ideologia</label>
                        <select id="editar-partido-ideologia" required>
                            <option value="direita" ${partido.ideologia === 'direita' ? 'selected' : ''}>Direita</option>
                            <option value="centro" ${partido.ideologia === 'centro' ? 'selected' : ''}>Centro</option>
                            <option value="esquerda" ${partido.ideologia === 'esquerda' ? 'selected' : ''}>Esquerda</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editar-partido-cadeiras">Cadeiras Ocupadas</label>
                        <input type="number" id="editar-partido-cadeiras" value="${partido.cadeiras || 0}" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="editar-partido-ficticio" ${partido.ficticio ? 'checked' : ''}> Partido Fictício
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="editar-partido-ativo" ${partido.ativo !== false ? 'checked' : ''}> Ativo
                        </label>
                    </div>
                    
                    <input type="hidden" id="editar-partido-id" value="${partido.id}">
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-salvar-partido" style="flex: 1;">
                            <i class="fas fa-save"></i> Salvar Alterações
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-partido-editar">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            `;
            
            mostrarModal(`Editar Partido: ${partido.sigla}`, conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-salvar-partido').addEventListener('click', function() {
                salvarEdicaoPartido();
            });
            
            document.getElementById('modal-btn-cancelar-partido-editar').addEventListener('click', fecharModal);
        }

        // ===== FUNÇÕES DE CRUD (CREATE, READ, UPDATE, DELETE) =====
        function salvarEdicaoParlamentar() {
            const id = document.getElementById('editar-id').value;
            const parlamentarAtualizado = {
                nome: document.getElementById('editar-nome').value,
                cargo: document.getElementById('editar-cargo').value,
                partido: document.getElementById('editar-partido').value,
                numeroPartido: parseInt(document.getElementById('editar-numero-partido').value),
                status: document.getElementById('editar-status').value,
                mandatoInicio: document.getElementById('editar-mandato-inicio').value,
                mandatoFim: document.getElementById('editar-mandato-fim').value,
                legislatura: document.getElementById('editar-legislatura').value,
                foto: document.getElementById('editar-foto').value || ''
            };
            
            // Atualizar no Firebase
            database.ref('parlamentares/' + id).update(parlamentarAtualizado)
                .then(() => {
                    alert('Parlamentar atualizado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('atualizacao', `Parlamentar ${parlamentarAtualizado.nome} atualizado`);
                })
                .catch((error) => {
                    alert('Erro ao atualizar parlamentar: ' + error.message);
                });
        }

        function criarNovoParlamentar() {
            const novoParlamentar = {
                nome: document.getElementById('novo-nome').value,
                cargo: document.getElementById('novo-cargo').value,
                partido: document.getElementById('novo-partido').value,
                numeroPartido: parseInt(document.getElementById('novo-numero-partido').value),
                status: document.getElementById('novo-status').value,
                mandatoInicio: document.getElementById('novo-mandato-inicio').value,
                mandatoFim: document.getElementById('novo-mandato-fim').value,
                legislatura: document.getElementById('novo-legislatura').value,
                foto: document.getElementById('novo-foto').value || ''
            };
            
            // Salvar no Firebase
            database.ref('parlamentares').push(novoParlamentar)
                .then(() => {
                    alert('Parlamentar criado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('criacao', `Novo parlamentar ${novoParlamentar.nome} criado`);
                })
                .catch((error) => {
                    alert('Erro ao criar parlamentar: ' + error.message);
                });
        }

        function excluirParlamentar(id) {
            // Encontrar parlamentar
            const parlamentar = dadosParlamentares.find(p => p.id === id);
            
            if (!parlamentar) return;
            
            // Mover para ex_parlamentares
            const exParlamentar = {
                ...parlamentar,
                dataExclusao: new Date().toISOString(),
                exclusor: perfilAtual
            };
            
            // Salvar em ex_parlamentares
            database.ref('ex_parlamentares').push(exParlamentar)
                .then(() => {
                    // Remover de parlamentares
                    return database.ref('parlamentares/' + id).remove();
                })
                .then(() => {
                    alert('Parlamentar movido para o histórico com sucesso!');
                    
                    // Registrar log
                    registrarLog('exclusao', `Parlamentar ${parlamentar.nome} movido para histórico`);
                })
                .catch((error) => {
                    alert('Erro ao excluir parlamentar: ' + error.message);
                });
        }

        function salvarEdicaoProjeto() {
            const id = document.getElementById('editar-projeto-id').value;
            const projetoAtualizado = {
                numero: document.getElementById('editar-projeto-numero').value,
                titulo: document.getElementById('editar-projeto-titulo').value,
                descricao: document.getElementById('editar-projeto-descricao').value,
                autor: document.getElementById('editar-projeto-autor').value,
                cargoAutor: document.getElementById('editar-projeto-cargo').value,
                partido: document.getElementById('editar-projeto-partido').value,
                status: document.getElementById('editar-projeto-status').value,
                data: document.getElementById('editar-projeto-data').value
            };
            
            // Atualizar no Firebase
            database.ref('projetos/' + id).update(projetoAtualizado)
                .then(() => {
                    alert('Projeto atualizado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('atualizacao', `Projeto ${projetoAtualizado.numero} atualizado`);
                })
                .catch((error) => {
                    alert('Erro ao atualizar projeto: ' + error.message);
                });
        }

        function criarNovoProjeto() {
            const novoProjeto = {
                numero: document.getElementById('novo-projeto-numero').value,
                titulo: document.getElementById('novo-projeto-titulo').value,
                descricao: document.getElementById('novo-projeto-descricao').value,
                autor: document.getElementById('novo-projeto-autor').value,
                cargoAutor: document.getElementById('novo-projeto-cargo').value,
                partido: document.getElementById('novo-projeto-partido').value,
                status: document.getElementById('novo-projeto-status').value,
                data: document.getElementById('novo-projeto-data').value
            };
            
            // Salvar no Firebase
            database.ref('projetos').push(novoProjeto)
                .then(() => {
                    alert('Projeto criado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('criacao', `Novo projeto ${novoProjeto.numero} criado`);
                })
                .catch((error) => {
                    alert('Erro ao criar projeto: ' + error.message);
                });
        }

        function criarNovoPartido() {
            const numero = parseInt(document.getElementById('novo-partido-numero').value);
            
            // Verificar se número já existe
            const numeroExiste = dadosPartidos.some(p => p.numero === numero);
            if (numeroExiste) {
                alert('Já existe um partido com este número. Por favor, escolha outro número.');
                return;
            }
            
            const novoPartido = {
                nome: document.getElementById('novo-partido-nome').value,
                sigla: document.getElementById('novo-partido-sigla').value.toUpperCase(),
                numero: numero,
                ideologia: document.getElementById('novo-partido-ideologia').value,
                cadeiras: parseInt(document.getElementById('novo-partido-cadeiras').value) || 0,
                ficticio: document.getElementById('novo-partido-ficticio').checked,
                ativo: true
            };
            
            // Salvar no Firebase
            database.ref('partidos').push(novoPartido)
                .then(() => {
                    alert('Partido criado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('criacao', `Novo partido ${novoPartido.sigla} criado`);
                })
                .catch((error) => {
                    alert('Erro ao criar partido: ' + error.message);
                });
        }

        function salvarEdicaoPartido() {
            const id = document.getElementById('editar-partido-id').value;
            const partidoAtualizado = {
                nome: document.getElementById('editar-partido-nome').value,
                sigla: document.getElementById('editar-partido-sigla').value.toUpperCase(),
                numero: parseInt(document.getElementById('editar-partido-numero').value),
                ideologia: document.getElementById('editar-partido-ideologia').value,
                cadeiras: parseInt(document.getElementById('editar-partido-cadeiras').value) || 0,
                ficticio: document.getElementById('editar-partido-ficticio').checked,
                ativo: document.getElementById('editar-partido-ativo').checked
            };
            
            // Atualizar no Firebase
            database.ref('partidos/' + id).update(partidoAtualizado)
                .then(() => {
                    alert('Partido atualizado com sucesso!');
                    fecharModal();
                    
                    // Registrar log
                    registrarLog('atualizacao', `Partido ${partidoAtualizado.sigla} atualizado`);
                })
                .catch((error) => {
                    alert('Erro ao atualizar partido: ' + error.message);
                });
        }

        function excluirPartido(id) {
            // Encontrar partido
            const partido = dadosPartidos.find(p => p.id === id);
            
            if (!partido) return;
            
            // Verificar se há parlamentares neste partido
            const parlamentaresNoPartido = dadosParlamentares.filter(p => p.partido === partido.sigla);
            
            if (parlamentaresNoPartido.length > 0) {
                alert(`Não é possível excluir este partido porque existem ${parlamentaresNoPartido.length} parlamentares filiados a ele. Transfira os parlamentares para outro partido antes de excluí-lo.`);
                return;
            }
            
            // Desativar partido (não excluir completamente para manter histórico)
            database.ref('partidos/' + id).update({ ativo: false })
                .then(() => {
                    alert('Partido desativado com sucesso!');
                    
                    // Registrar log
                    registrarLog('exclusao', `Partido ${partido.sigla} desativado`);
                })
                .catch((error) => {
                    alert('Erro ao desativar partido: ' + error.message);
                });
        }

        // ===== FUNÇÕES AUXILIARES =====
        function formatarData(dataString) {
            if (!dataString) return 'Não informado';
            
            const data = new Date(dataString);
            return data.toLocaleDateString('pt-BR');
        }

        function registrarLog(tipo, mensagem) {
            const log = {
                tipo: tipo,
                mensagem: mensagem,
                perfil: perfilAtual || 'visitante',
                data: new Date().toISOString(),
                ip: '127.0.0.1' // Em um sistema real, seria capturado do usuário
            };
            
            // Salvar log no Firebase
            database.ref('logs').push(log)
                .catch((error) => {
                    console.error('Erro ao registrar log:', error);
                });
        }

        // ===== INICIALIZAÇÃO FINAL =====
        // Configurar ano atual nos filtros
        const anoAtual = new Date().getFullYear();
        const selectAno = document.getElementById('filtro-projeto-ano');
        
        // Adicionar opções para anos próximos
        for (let i = anoAtual; i >= anoAtual - 5; i--) {
            const option = document.createElement('option');
            option.value = i.toString();
            option.textContent = i.toString();
            selectAno.appendChild(option);
        }
        
        // Adicionar funcionalidade de upload de foto simulada
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('parlamentar-foto') || 
                e.target.closest('.parlamentar-foto')) {
                
                if (usuarioLogado && (perfilAtual === 'dono' || perfilAtual === 'presidente-senado' || perfilAtual === 'presidente-assembleia')) {
                    const card = e.target.closest('.parlamentar-card');
                    if (card) {
                        const btnVer = card.querySelector('.btn-ver');
                        if (btnVer) {
                            const id = btnVer.getAttribute('data-id');
                            const parlamentar = dadosParlamentares.find(p => p.id === id);
                            if (parlamentar) {
                                mostrarModalUploadFoto(parlamentar);
                            }
                        }
                    }
                }
            }
        });

        function mostrarModalUploadFoto(parlamentar) {
            const conteudo = `
                <div style="text-align: center;">
                    <div style="width: 200px; height: 200px; background-color: var(--cinza-medio); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 4rem; color: var(--cinza-escuro); margin: 0 auto 2rem;">
                        ${parlamentar.foto ? `<img src="${parlamentar.foto}" alt="${parlamentar.nome}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">` : 
                        '<i class="fas fa-user"></i>'}
                    </div>
                    
                    <p style="margin-bottom: 2rem;">Alterar foto do parlamentar <strong>${parlamentar.nome}</strong></p>
                    
                    <div class="form-group">
                        <label for="upload-foto-url">URL da Imagem</label>
                        <input type="text" id="upload-foto-url" placeholder="https://exemplo.com/foto.jpg" value="${parlamentar.foto || ''}">
                        <small style="color: var(--cinza-escuro);">Cole a URL de uma imagem da internet</small>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn-salvar" id="modal-btn-salvar-foto" style="flex: 1;">
                            <i class="fas fa-save"></i> Salvar Foto
                        </button>
                        <button type="button" class="btn-acao" style="flex: 1; background-color: var(--cinza-escuro);" id="modal-btn-cancelar-foto">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                    
                    <input type="hidden" id="upload-foto-id" value="${parlamentar.id}">
                </div>
            `;
            
            mostrarModal(`Alterar Foto: ${parlamentar.nome}`, conteudo);
            
            // Adicionar eventos
            document.getElementById('modal-btn-salvar-foto').addEventListener('click', function() {
                const id = document.getElementById('upload-foto-id').value;
                const url = document.getElementById('upload-foto-url').value;
                
                if (url && !url.startsWith('http')) {
                    alert('Por favor, insira uma URL válida (começando com http ou https).');
                    return;
                }
                
                // Atualizar no Firebase
                database.ref('parlamentares/' + id).update({ foto: url })
                    .then(() => {
                        alert('Foto atualizada com sucesso!');
                        fecharModal();
                        
                        // Registrar log
                        registrarLog('atualizacao', `Foto do parlamentar ${parlamentar.nome} atualizada`);
                    })
                    .catch((error) => {
                        alert('Erro ao atualizar foto: ' + error.message);
                    });
            });
            
            document.getElementById('modal-btn-cancelar-foto').addEventListener('click', fecharModal);
        }

        console.log('Sistema Legislativo de Brookasil inicializado com sucesso!');
    </script>
</body>
    </html>
